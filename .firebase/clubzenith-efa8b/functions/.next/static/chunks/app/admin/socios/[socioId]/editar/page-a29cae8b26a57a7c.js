(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8361],{9500:function(e,t,a){Promise.resolve().then(a.bind(a,58397))},25912:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},87385:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},96273:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},54174:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},49321:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},59061:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10883:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},36127:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},74697:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(78030).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},66648:function(e,t,a){"use strict";a.d(t,{default:function(){return o.a}});var r=a(55601),o=a.n(r)},55601:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return n},getImageProps:function(){return l}});let r=a(99920),o=a(80497),s=a(38173),i=r._(a(21241));function l(e){let{props:t}=(0,o.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let n=s.Image},60291:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=a(99920)._(a(2265)).default.createContext(null)},58397:function(e,t,a){"use strict";a.d(t,{AdminEditarSocioForm:function(){return U}});var r=a(57437),o=a(2265),s=a(39343),i=a(31014),l=a(16463),n=a(64451),c=a(89733),d=a(48185),u=a(93363),m=a(77209),x=a(2128),f=a(86763),h=a(26912),p=a(92033),j=a(2183),g=a(80420),N=a(18062),y=a(54174),v=a(30690),b=a(87385),w=a(4086),D=a(89832),F=a(49321),C=a(25912),M=a(36141),k=a(64341),Z=a(36127),P=a(11240),I=a(10883),z=a(96273),E=a(74697),G=a(59061),S=a(97e3),_=a(45132),R=a(54184),O=a(80624),A=a(29973),J=a(66648),W=a(93191),X=a(25524);function U(e){var t,a;let{socioId:U}=e,[V,L]=(0,o.useState)(null),[$,H]=(0,o.useState)(!0),{toast:q}=(0,f.pm)(),T=(0,l.useRouter)(),Q=(0,W.NL)(),[Y,B]=(0,o.useState)(()=>(0,S.WU)(new Date,"yyyy-MM-dd")),[K,ee]=(0,o.useState)(()=>(0,S.WU)((0,_.e)(new Date,18),"yyyy-MM-dd")),et=(0,s.cI)({resolver:(0,i.F)(n.pO),mode:"onBlur",defaultValues:{nombre:"",apellido:"",fechaNacimiento:void 0,dni:"",empresa:"",telefono:"",direccion:"",email:"",estadoSocio:"Activo",tipoGrupoFamiliar:void 0,grupoFamiliar:[],fotoUrl:null,fotoPerfil:null,fotoDniFrente:null,fotoDniDorso:null,fotoCarnet:null}}),{fields:ea,append:er,remove:eo,replace:es}=(0,s.Dq)({control:et.control,name:"grupoFamiliar"}),ei=et.watch("tipoGrupoFamiliar");(0,o.useEffect)(()=>{let e=async()=>{H(!0);let e=await (0,h.AZ)(U);if(e){var t,a;let r;L(e),(null===(t=e.grupoFamiliar)||void 0===t?void 0:t.some(e=>e.relacion===n.$g.CONYUGE||e.relacion===n.$g.HIJO_A))?r="conyugeEHijos":(null===(a=e.grupoFamiliar)||void 0===a?void 0:a.some(e=>e.relacion===n.$g.PADRE_MADRE))&&(r="padresMadres"),et.reset({nombre:e.nombre,apellido:e.apellido,fechaNacimiento:e.fechaNacimiento,dni:e.dni,empresa:e.empresa,telefono:e.telefono,direccion:e.direccion,email:e.email,estadoSocio:e.estadoSocio,tipoGrupoFamiliar:r,fotoUrl:e.fotoUrl,fotoPerfil:e.fotoPerfil,fotoDniFrente:e.fotoDniFrente,fotoDniDorso:e.fotoDniDorso,fotoCarnet:e.fotoCarnet,grupoFamiliar:e.grupoFamiliar})}else q({title:"Error",description:"Socio no encontrado.",variant:"destructive"}),T.push("/admin/gestion-socios");H(!1)};U&&e()},[U,et,q,T]),(0,o.useEffect)(()=>{let e=et.watch((e,t)=>{let{name:a}=t;"tipoGrupoFamiliar"===a&&(es([]),"conyugeEHijos"===e.tipoGrupoFamiliar&&er({id:(0,p.Ox)(),nombre:"",apellido:"",dni:"",fechaNacimiento:new Date,relacion:n.$g.CONYUGE,fotoPerfil:null,fotoDniFrente:null,fotoDniDorso:null,fotoCarnet:null,aptoMedico:void 0}))});return()=>e.unsubscribe()},[et,es,er]);let{mutate:el,isPending:en}=(0,X.D)({mutationFn:e=>(0,h.uL)(e),onSuccess:(e,t)=>{q({title:"Socio Actualizado",description:"Los datos del socio han sido actualizados."}),Q.invalidateQueries({queryKey:["socios"]}),T.push("/admin/gestion-socios")},onError:e=>{console.error("Error al actualizar socio:",e),q({title:"Error",description:"No se pudo actualizar el socio.",variant:"destructive"})}}),ec=async e=>{let t;if(!V)return;let a=async(e,t,a)=>e instanceof FileList&&e.length>0?(0,h.cT)(e[0],a):"string"==typeof e?e:null,r=await a(e.fotoPerfil,V.fotoPerfil,"socios/".concat(V.id,"/fotoPerfil.jpg")),o=await a(e.fotoDniFrente,V.fotoDniFrente,"socios/".concat(V.id,"/fotoDniFrente.jpg")),s=await a(e.fotoDniDorso,V.fotoDniDorso,"socios/".concat(V.id,"/fotoDniDorso.jpg")),i=await a(e.fotoCarnet,V.fotoCarnet,"socios/".concat(V.id,"/fotoCarnet.jpg"));e.grupoFamiliar&&(t=await Promise.all(e.grupoFamiliar.map(async e=>{var t;let r=null===(t=V.grupoFamiliar)||void 0===t?void 0:t.find(t=>t.id===e.id),o=e.id||(0,p.Ox)(),s=await a(e.fotoPerfil,null==r?void 0:r.fotoPerfil,"socios/".concat(V.id,"/familiares/").concat(o,"_perfil.jpg")),i=await a(e.fotoDniFrente,null==r?void 0:r.fotoDniFrente,"socios/".concat(V.id,"/familiares/").concat(o,"_dniFrente.jpg")),l=await a(e.fotoDniDorso,null==r?void 0:r.fotoDniDorso,"socios/".concat(V.id,"/familiares/").concat(o,"_dniDorso.jpg")),n=await a(e.fotoCarnet,null==r?void 0:r.fotoCarnet,"socios/".concat(V.id,"/familiares/").concat(o,"_carnet.jpg"));return{...e,id:o,fotoPerfil:s,fotoDniFrente:i,fotoDniDorso:l,fotoCarnet:n}})));let{grupoFamiliar:l,fotoPerfil:n,fotoDniFrente:c,fotoDniDorso:d,fotoCarnet:u,...m}=e;el({id:V.id,...m,fotoPerfil:r,fotoUrl:r,fotoDniFrente:o,fotoDniDorso:s,fotoCarnet:i,grupoFamiliar:t})},ed=(e,t,a)=>{let o=et.watch(e),s=null,i=null;return o instanceof FileList&&o.length>0?(s=URL.createObjectURL(o[0]),i=o[0].name):"string"==typeof o&&(s=o),(0,r.jsxs)(u.xJ,{children:[(0,r.jsx)(u.lX,{children:t}),(0,r.jsxs)(d.Zb,{className:"p-2 space-y-2",children:[s?(0,r.jsx)(J.default,{src:s,alt:"Vista previa de ".concat(t),width:100,height:100,className:"rounded border object-contain","data-ai-hint":"user photo document"}):(0,r.jsx)("div",{className:"flex items-center justify-center h-[100px] w-[100px] bg-muted rounded border text-muted-foreground text-xs text-center",children:"Sin foto"}),a&&(0,r.jsx)(u.Wi,{control:et.control,name:e,render:t=>{let{field:a}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.NI,{children:(0,r.jsxs)("label",{className:"cursor-pointer text-sm font-medium text-primary hover:underline",children:[s?"Cambiar...":"Subir...",(0,r.jsx)(m.I,{type:"file",className:"hidden",onChange:e=>a.onChange(e.target.files),accept:"image/png,image/jpeg"})]})}),i&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Nuevo: ",i]}),s&&(0,r.jsx)(c.z,{type:"button",variant:"link",className:"text-xs text-destructive p-0 h-auto",onClick:()=>et.setValue(e,null),children:"Eliminar foto"}),(0,r.jsx)(u.zG,{className:"text-xs"})]})}})]})]})};if($)return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(j.O,{className:"h-12 w-1/2"}),(0,r.jsx)(j.O,{className:"h-96 w-full"}),(0,r.jsx)(j.O,{className:"h-10 w-1/4"})]});if(!V)return(0,r.jsx)("p",{className:"text-center text-destructive",children:"Socio no encontrado."});let eu="string"==typeof et.watch("fotoPerfil")?et.watch("fotoPerfil"):et.watch("fotoPerfil") instanceof FileList&&et.watch("fotoPerfil").length>0?URL.createObjectURL(et.watch("fotoPerfil")[0]):V.fotoPerfil||"https://placehold.co/128x128.png?text=".concat(V.nombre[0]).concat(V.apellido[0]),em=(0,p.b9)(V.aptoMedico,V.fechaNacimiento);return(0,r.jsx)(s.RV,{...et,children:(0,r.jsx)("form",{onSubmit:et.handleSubmit(ec),children:(0,r.jsxs)(d.Zb,{className:"w-full max-w-4xl mx-auto shadow-xl",children:[(0,r.jsx)(d.Ol,{children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[(0,r.jsxs)(g.qE,{className:"h-20 w-20 border",children:[(0,r.jsx)(g.F$,{src:eu,alt:"".concat(et.watch("nombre")||V.nombre," ").concat(et.watch("apellido")||V.apellido),"data-ai-hint":"profile photo"}),(0,r.jsxs)(g.Q5,{children:[null===(t=et.watch("nombre")||V.nombre)||void 0===t?void 0:t[0],null===(a=et.watch("apellido")||V.apellido)||void 0===a?void 0:a[0]]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)(d.ll,{className:"text-2xl flex items-center",children:[(0,r.jsx)(N.Z,{className:"mr-3 h-7 w-7 text-primary"}),"Editar Socio: ",et.watch("nombre")||V.nombre," ",et.watch("apellido")||V.apellido]}),(0,r.jsxs)(d.SZ,{children:["Modifique los datos del socio titular y su grupo familiar. N\xb0 Socio: ",V.numeroSocio]})]})]})}),(0,r.jsxs)(d.aY,{className:"space-y-6",children:[(0,r.jsxs)("section",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary border-b pb-1",children:"Datos Personales y Contacto (Titular)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,r.jsx)(u.Wi,{control:et.control,name:"nombre",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(y.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Nombre(s)"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{...t})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"apellido",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(y.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Apellido(s)"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{...t})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"dni",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(v.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"DNI"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{type:"number",...t})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"fechaNacimiento",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(b.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Fecha de Nacimiento"]}),(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{type:"date",value:t.value&&(0,R.J)(new Date(t.value))?(0,S.WU)(new Date(t.value),"yyyy-MM-dd"):"",onChange:e=>t.onChange(e.target.value?(0,O.D)(e.target.value):null),max:K,className:"w-full"})}),(0,r.jsx)(u.zG,{})]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"email",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(w.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Email"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{type:"email",...t})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"telefono",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(D.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Tel\xe9fono"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{type:"tel",...t})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"direccion",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{className:"md:col-span-2",children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(F.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Direcci\xf3n"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{...t})})," ",(0,r.jsx)(u.zG,{})," "]})}})]})]}),(0,r.jsx)(A.Z,{}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary border-b pb-1",children:"Informaci\xf3n de Membres\xeda (Titular)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,r.jsx)(u.Wi,{control:et.control,name:"empresa",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(C.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Empresa / Sindicato"]})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{...t})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"estadoSocio",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(v.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Estado del Socio"]}),(0,r.jsxs)(x.Ph,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(u.NI,{children:(0,r.jsx)(x.i4,{children:(0,r.jsx)(x.ki,{placeholder:"Seleccione un estado"})})}),(0,r.jsx)(x.Bw,{children:["Activo","Inactivo","Pendiente Validacion"].map(e=>(0,r.jsx)(x.Ql,{value:e,children:e},e))})]}),(0,r.jsx)(u.zG,{})]})}}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)(u.lX,{children:"Miembro Desde"}),(0,r.jsx)(m.I,{value:(0,p.p6)(V.miembroDesde),disabled:!0,className:"mt-1 bg-muted/50"})]})]})]}),(0,r.jsx)(A.Z,{}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary border-b pb-1",children:"Salud y Documentaci\xf3n (Titular)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.lX,{children:"Apto M\xe9dico (Titular)"}),(0,r.jsxs)("div",{className:"mt-1 p-2 rounded-md border ".concat(em.colorClass.replace("text-","text-").replace("bg-","bg-opacity-10 border-")),children:[(0,r.jsxs)("div",{className:"flex items-center",children:["V\xe1lido"===em.status&&(0,r.jsx)(M.Z,{className:"h-4 w-4 mr-1.5 text-green-600"}),("Vencido"===em.status||"Inv\xe1lido"===em.status)&&(0,r.jsx)(k.Z,{className:"h-4 w-4 mr-1.5 text-red-600"}),"Pendiente"===em.status&&(0,r.jsx)(Z.Z,{className:"h-4 w-4 mr-1.5 text-yellow-600"}),"No Aplica"===em.status&&(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-1.5 text-gray-600"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:em.status})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:em.message})]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"La gesti\xf3n de aptos se realiza desde el Panel M\xe9dico."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u.lX,{children:"\xdaltima Revisi\xf3n M\xe9dica"}),(0,r.jsx)(m.I,{value:V.ultimaRevisionMedica?(0,p.p6)(V.ultimaRevisionMedica):"N/A",disabled:!0,className:"mt-1 bg-muted/50"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[ed("fotoPerfil","Foto de Perfil",!0),ed("fotoDniFrente","DNI Frente",!1),ed("fotoDniDorso","DNI Dorso",!1),ed("fotoCarnet","Foto Carnet",!1)]})]}),(0,r.jsx)(A.Z,{}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-3 text-primary border-b pb-1",children:"Grupo Familiar"}),(0,r.jsx)(u.Wi,{control:et.control,name:"tipoGrupoFamiliar",render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{className:"mb-6",children:[(0,r.jsxs)(u.lX,{className:"flex items-center",children:[(0,r.jsx)(P.Z,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),"Tipo de Grupo Familiar"]}),(0,r.jsxs)(x.Ph,{onValueChange:t.onChange,value:t.value||"",children:[(0,r.jsx)(u.NI,{children:(0,r.jsx)(x.i4,{children:(0,r.jsx)(x.ki,{placeholder:"Seleccione un tipo de grupo"})})}),(0,r.jsxs)(x.Bw,{children:[(0,r.jsx)(x.Ql,{value:"conyugeEHijos",children:"C\xf3nyuge e Hijos/as"}),(0,r.jsx)(x.Ql,{value:"padresMadres",children:"Padres/Madres"})]})]}),(0,r.jsx)(u.zG,{})]})}}),(0,r.jsxs)("div",{className:"space-y-6",children:[ea.map((e,t)=>{var a,o,s,i,l;let f=null===(a=V.grupoFamiliar)||void 0===a?void 0:a.find(t=>t.id===e.id||t.dni===e.dni),h=f?(0,p.b9)(f.aptoMedico,f.fechaNacimiento):{status:"N/A",message:"No se pudo cargar apto",colorClass:"text-gray-500"},j="string"==typeof et.watch("grupoFamiliar.".concat(t,".fotoPerfil"))?et.watch("grupoFamiliar.".concat(t,".fotoPerfil")):et.watch("grupoFamiliar.".concat(t,".fotoPerfil")) instanceof FileList&&et.watch("grupoFamiliar.".concat(t,".fotoPerfil")).length>0?URL.createObjectURL(et.watch("grupoFamiliar.".concat(t,".fotoPerfil"))[0]):(null==f?void 0:f.fotoPerfil)||"https://placehold.co/64x64.png?text=".concat((null===(o=et.watch("grupoFamiliar.".concat(t,".nombre")))||void 0===o?void 0:o[0])||"").concat((null===(s=et.watch("grupoFamiliar.".concat(t,".apellido")))||void 0===s?void 0:s[0])||"");return(0,r.jsxs)(d.Zb,{className:"p-4 bg-muted/20",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsxs)("h4",{className:"font-medium",children:["Familiar ",t+1]}),(0,r.jsx)(c.z,{type:"button",variant:"ghost",size:"icon",className:"text-destructive hover:bg-destructive/10",onClick:()=>eo(t),children:(0,r.jsx)(I.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)(u.Wi,{control:et.control,name:"grupoFamiliar.".concat(t,".nombre"),render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsx)(u.lX,{className:"text-xs",children:"Nombre"})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{...t,className:"h-9 text-sm"})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"grupoFamiliar.".concat(t,".apellido"),render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsx)(u.lX,{className:"text-xs",children:"Apellido"})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{...t,className:"h-9 text-sm"})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"grupoFamiliar.".concat(t,".dni"),render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[" ",(0,r.jsx)(u.lX,{className:"text-xs",children:"DNI"})," ",(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{type:"number",...t,className:"h-9 text-sm"})})," ",(0,r.jsx)(u.zG,{})," "]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"grupoFamiliar.".concat(t,".fechaNacimiento"),render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[(0,r.jsx)(u.lX,{className:"text-xs",children:"Fecha Nac."}),(0,r.jsx)(u.NI,{children:(0,r.jsx)(m.I,{type:"date",value:t.value&&(0,R.J)(new Date(t.value))?(0,S.WU)(new Date(t.value),"yyyy-MM-dd"):"",onChange:e=>t.onChange(e.target.value?(0,O.D)(e.target.value):null),max:Y,className:"w-full h-9 text-sm"})}),(0,r.jsx)(u.zG,{})]})}}),(0,r.jsx)(u.Wi,{control:et.control,name:"grupoFamiliar.".concat(t,".relacion"),render:e=>{let{field:t}=e;return(0,r.jsxs)(u.xJ,{children:[(0,r.jsx)(u.lX,{className:"text-xs",children:"Relaci\xf3n"}),(0,r.jsxs)(x.Ph,{onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(u.NI,{children:(0,r.jsx)(x.i4,{className:"h-9 text-sm",children:(0,r.jsx)(x.ki,{placeholder:"Seleccione relaci\xf3n"})})}),(0,r.jsx)(x.Bw,{children:Object.values(n.$g).map(e=>(0,r.jsx)(x.Ql,{value:e,disabled:"conyugeEHijos"===ei&&e===n.$g.PADRE_MADRE||"padresMadres"===ei&&(e===n.$g.CONYUGE||e===n.$g.HIJO_A),children:e},e))})]}),(0,r.jsx)(u.zG,{})]})}}),(0,r.jsxs)("div",{className:"md:col-span-1 flex flex-col items-center",children:[(0,r.jsxs)(g.qE,{className:"h-16 w-16 border",children:[(0,r.jsx)(g.F$,{src:j,alt:et.watch("grupoFamiliar.".concat(t,".nombre")),"data-ai-hint":"family member photo"}),(0,r.jsxs)(g.Q5,{children:[null===(i=et.watch("grupoFamiliar.".concat(t,".nombre")))||void 0===i?void 0:i[0],null===(l=et.watch("grupoFamiliar.".concat(t,".apellido")))||void 0===l?void 0:l[0]]})]}),(0,r.jsxs)("p",{className:"text-xs mt-1 text-center p-1 rounded ".concat(h.colorClass.replace("bg-","bg-opacity-20 ")),children:["Apto: ",h.status]})]})]}),(0,r.jsx)(A.Z,{className:"my-3"}),(0,r.jsxs)("h5",{className:"text-sm font-semibold mt-2 mb-1",children:["Documentaci\xf3n Familiar ",t+1]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[ed("grupoFamiliar.".concat(t,".fotoPerfil"),"Foto de Perfil",!0),ed("grupoFamiliar.".concat(t,".fotoDniFrente"),"DNI Frente",!1),ed("grupoFamiliar.".concat(t,".fotoDniDorso"),"DNI Dorso",!1),ed("grupoFamiliar.".concat(t,".fotoCarnet"),"Foto Carnet",!1)]})]},e.id)}),ei&&(0,r.jsxs)(c.z,{type:"button",variant:"outline",onClick:()=>{"conyugeEHijos"===ei?er({id:(0,p.Ox)(),nombre:"",apellido:"",dni:"",fechaNacimiento:new Date,relacion:n.$g.HIJO_A,fotoPerfil:null,fotoDniFrente:null,fotoDniDorso:null,fotoCarnet:null,aptoMedico:void 0}):"padresMadres"===ei&&er({id:(0,p.Ox)(),nombre:"",apellido:"",dni:"",fechaNacimiento:new Date,relacion:n.$g.PADRE_MADRE,fotoPerfil:null,fotoDniFrente:null,fotoDniDorso:null,fotoCarnet:null,aptoMedico:void 0})},children:[(0,r.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),"conyugeEHijos"===ei?"Agregar Hijo/a":"Agregar Padre/Madre"]})]})]})]}),(0,r.jsxs)(d.eW,{className:"flex justify-between pt-6",children:[(0,r.jsxs)(c.z,{type:"button",variant:"outline",onClick:()=>T.push("/admin/gestion-socios"),children:[(0,r.jsx)(E.Z,{className:"mr-2 h-4 w-4"})," Cancelar"]}),(0,r.jsxs)(c.z,{type:"submit",disabled:en,children:[(0,r.jsx)(G.Z,{className:"mr-2 h-4 w-4"})," ",en?"Guardando...":"Guardar Cambios"]})]})]})})})}},80420:function(e,t,a){"use strict";a.d(t,{F$:function(){return n},Q5:function(){return c},qE:function(){return l}});var r=a(57437),o=a(2265),s=a(44458),i=a(49354);let l=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.fC,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...o})});l.displayName=s.fC.displayName;let n=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.Ee,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",a),...o})});n.displayName=s.Ee.displayName;let c=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.NY,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...o})});c.displayName=s.NY.displayName},2128:function(e,t,a){"use strict";a.d(t,{Bw:function(){return h},Ph:function(){return d},Ql:function(){return p},i4:function(){return m},ki:function(){return u}});var r=a(57437),o=a(2265),s=a(19825),i=a(42421),l=a(14392),n=a(22468),c=a(49354);let d=s.fC;s.ZA;let u=s.B4,m=o.forwardRef((e,t)=>{let{className:a,children:o,...l}=e;return(0,r.jsxs)(s.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[o,(0,r.jsx)(s.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=s.xz.displayName;let x=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...o,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});x.displayName=s.u_.displayName;let f=o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...o,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=s.$G.displayName;let h=o.forwardRef((e,t)=>{let{className:a,children:o,position:i="popper",...l}=e;return(0,r.jsx)(s.h_,{children:(0,r.jsxs)(s.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,r.jsx)(x,{}),(0,r.jsx)(s.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,r.jsx)(f,{})]})})});h.displayName=s.VY.displayName,o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...o})}).displayName=s.__.displayName;let p=o.forwardRef((e,t)=>{let{className:a,children:o,...i}=e;return(0,r.jsxs)(s.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(s.wU,{children:(0,r.jsx)(n.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(s.eT,{children:o})]})});p.displayName=s.ck.displayName,o.forwardRef((e,t)=>{let{className:a,...o}=e;return(0,r.jsx)(s.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...o})}).displayName=s.Z0.displayName},29973:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var r=a(57437),o=a(2265),s=a(48484),i=a(49354);let l=o.forwardRef((e,t)=>{let{className:a,orientation:o="horizontal",decorative:l=!0,...n}=e;return(0,r.jsx)(s.f,{ref:t,decorative:l,orientation:o,className:(0,i.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",a),...n})});l.displayName=s.f.displayName},2183:function(e,t,a){"use strict";a.d(t,{O:function(){return s}});var r=a(57437),o=a(49354);function s(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",t),...a})}},62361:function(e,t,a){"use strict";function r(e,[t,a]){return Math.min(a,Math.max(t,e))}a.d(t,{u:function(){return r}})},87513:function(e,t,a){"use strict";a.d(t,{gm:function(){return s}});var r=a(2265);a(57437);var o=r.createContext(void 0);function s(e){let t=r.useContext(o);return e||t||"ltr"}}},function(e){e.O(0,[4358,139,4868,317,9772,3906,4414,8173,8384,2978,4187,2260,6068,7108,2971,7023,1744],function(){return e(e.s=9500)}),_N_E=e.O()}]);