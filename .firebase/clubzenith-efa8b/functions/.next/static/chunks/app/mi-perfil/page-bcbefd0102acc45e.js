(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{78853:function(e,a,t){Promise.resolve().then(t.bind(t,49248))},25912:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},54174:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},13622:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("MailQuestion",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M18 15.28c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"7z9rxb"}],["path",{d:"M20 22v.01",key:"12bgn6"}]])},4086:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},49321:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},89832:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},51469:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("SquareUserRound",[["path",{d:"M18 21a6 6 0 0 0-12 0",key:"kaz2du"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},90221:function(e,a,t){"use strict";t.d(a,{Z:function(){return r}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(78030).Z)("SquareX",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},87138:function(e,a,t){"use strict";t.d(a,{default:function(){return s.a}});var r=t(231),s=t.n(r)},49248:function(e,a,t){"use strict";t.d(a,{VistaPerfilSocio:function(){return D}});var r=t(57437),s=t(67048),l=t(26912),i=t(48185),o=t(80420),c=t(79055),n=t(2183),d=t(92033),u=t(54174),m=t(13622),x=t(90221),p=t(4086),h=t(89832),f=t(49321);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,t(78030).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var b=t(25912),j=t(97905),v=t(51469),N=t(36141),y=t(64341),w=t(36127),Z=t(30690),C=t(11240),k=t(29973),A=t(35265),E=t(87138),F=t(89733),P=t(87992),I=t(49354),M=t(40932),S=t(64451);function D(){let{loggedInUserNumeroSocio:e,isLoading:a}=(0,s.a)(),{data:t,isLoading:D}=(0,M.a)({queryKey:["socio",e],queryFn:()=>(0,l.g1)(e),enabled:!!e&&!a});if(a||D)return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-3xl mx-auto",children:[(0,r.jsxs)(i.Ol,{className:"items-center text-center p-6",children:[(0,r.jsx)(n.O,{className:"h-28 w-28 rounded-full"}),(0,r.jsx)(n.O,{className:"h-7 w-1/2 mt-4"}),(0,r.jsx)(n.O,{className:"h-5 w-1/3 mt-2"})]}),(0,r.jsxs)(i.aY,{className:"p-6 space-y-4",children:[(0,r.jsx)(n.O,{className:"h-5 w-full"}),(0,r.jsx)(n.O,{className:"h-5 w-full"}),(0,r.jsx)(n.O,{className:"h-5 w-3/4"}),(0,r.jsx)(k.Z,{className:"my-4"}),(0,r.jsx)(n.O,{className:"h-8 w-1/3"}),(0,r.jsx)(n.O,{className:"h-20 w-full"})]})]})});if(!t)return(0,r.jsxs)(i.Zb,{className:"w-full max-w-lg mx-auto text-center py-10",children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(u.Z,{className:"h-16 w-16 mx-auto text-destructive mb-4"}),(0,r.jsx)(i.ll,{children:"Error al Cargar Perfil"})]}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No se pudo cargar la informaci\xf3n de tu perfil. Por favor, intenta recargar la p\xe1gina o contacta a administraci\xf3n si el problema persiste."})})]});let z=(0,d.b9)(t.aptoMedico,t.fechaNacimiento),O=t.fotoUrl||t.fotoPerfil||"https://placehold.co/128x128.png",V=e=>{let{icon:a,label:t,value:s}=e;return s?(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)(a,{className:"h-5 w-5 text-primary mt-0.5 shrink-0"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:t}),(0,r.jsx)("p",{className:"text-sm font-medium text-foreground",children:s})]})]}):null},q=e=>{let{title:a,icon:t,children:s}=e;return(0,r.jsxs)("section",{className:"space-y-3",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold flex items-center text-primary mb-3",children:[(0,r.jsx)(t,{className:"mr-2 h-5 w-5"})," ",a]}),s]})};return(0,r.jsx)("div",{className:"space-y-8",children:(0,r.jsxs)(i.Zb,{className:"w-full max-w-4xl mx-auto shadow-xl overflow-hidden",children:[(0,r.jsx)(i.Ol,{className:"bg-gradient-to-r from-primary/80 to-primary p-6 sm:p-8 text-primary-foreground",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[(0,r.jsxs)(o.qE,{className:"h-24 w-24 sm:h-28 sm:w-28 border-4 border-background shadow-lg",children:[(0,r.jsx)(o.F$,{src:O,alt:"".concat(t.nombre," ").concat(t.apellido),"data-ai-hint":"profile photo"}),(0,r.jsxs)(o.Q5,{className:"text-4xl bg-muted text-muted-foreground",children:[t.nombre[0],t.apellido[0]]})]}),(0,r.jsxs)("div",{className:"text-center sm:text-left",children:[(0,r.jsxs)(i.ll,{className:"text-3xl sm:text-4xl font-bold",children:[t.nombre," ",t.apellido]}),(0,r.jsxs)(i.SZ,{className:"text-primary-foreground/80 text-base mt-1",children:["Socio N\xb0: ",t.numeroSocio," | DNI: ",t.dni]})]})]})}),(0,r.jsxs)(i.aY,{className:"p-6 sm:p-8 space-y-8",children:[t.estadoCambioGrupoFamiliar===S.z_.PENDIENTE&&(0,r.jsxs)(P.bZ,{variant:"default",className:"bg-yellow-500/10 border-yellow-500/30 text-yellow-700",children:[(0,r.jsx)(m.Z,{className:"h-5 w-5"}),(0,r.jsx)(P.Cd,{className:"font-semibold",children:"Solicitud Pendiente"}),(0,r.jsx)(P.X,{children:"Tiene una solicitud de cambio para su grupo familiar pendiente de aprobaci\xf3n por la administraci\xf3n."})]}),t.estadoCambioGrupoFamiliar===S.z_.RECHAZADO&&(0,r.jsxs)(P.bZ,{variant:"destructive",className:"mt-4",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5"}),(0,r.jsx)(P.Cd,{className:"font-semibold",children:"Solicitud de Cambio Rechazada"}),(0,r.jsxs)(P.X,{children:["Su \xfaltima solicitud de cambio de grupo familiar fue rechazada. Motivo: ",t.motivoRechazoCambioGrupoFamiliar||"No especificado",'. Puede realizar una nueva solicitud desde "Gestionar Grupo Familiar".']})]}),(0,r.jsx)(q,{title:"Informaci\xf3n Personal",icon:u.Z,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[(0,r.jsx)(V,{icon:p.Z,label:"Email",value:t.email}),(0,r.jsx)(V,{icon:h.Z,label:"Tel\xe9fono",value:t.telefono}),(0,r.jsx)(V,{icon:f.Z,label:"Direcci\xf3n",value:t.direccion}),(0,r.jsx)(V,{icon:g,label:"Fecha de Nacimiento",value:(0,d.p6)(t.fechaNacimiento)}),(0,r.jsx)(V,{icon:b.Z,label:"Empresa / Obra Social",value:t.empresa.toString()}),(0,r.jsx)(V,{icon:j.Z,label:"Miembro Desde",value:(0,d.p6)(t.miembroDesde)})]})}),(0,r.jsx)(k.Z,{}),(0,r.jsx)(q,{title:"Estado de Membres\xeda",icon:v.Z,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)(i.Zb,{className:"p-4 bg-muted/30",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Estado del Socio"}),(0,r.jsx)(c.C,{variant:"Activo"===t.estadoSocio?"default":"destructive",className:"text-base ".concat("Activo"===t.estadoSocio?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"),children:t.estadoSocio})]}),(0,r.jsxs)(i.Zb,{className:"p-4 border ".concat(z.colorClass.replace("text-","text-").replace("bg-","bg-opacity-10 border-")),children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Apto M\xe9dico (Titular)"}),(0,r.jsxs)("div",{className:"flex items-center",children:["V\xe1lido"===z.status&&(0,r.jsx)(N.Z,{className:"h-5 w-5 mr-2 ".concat(z.colorClass.replace("bg-","text-").replace("-100","-500"))}),("Vencido"===z.status||"Inv\xe1lido"===z.status)&&(0,r.jsx)(y.Z,{className:"h-5 w-5 mr-2 ".concat(z.colorClass.replace("bg-","text-").replace("-100","-500"))}),"Pendiente"===z.status&&(0,r.jsx)(w.Z,{className:"h-5 w-5 mr-2 ".concat(z.colorClass.replace("bg-","text-").replace("-100","-500"))}),"No Aplica"===z.status&&(0,r.jsx)(Z.Z,{className:"h-5 w-5 mr-2 ".concat(z.colorClass.replace("bg-","text-").replace("-100","-500"))}),(0,r.jsx)(c.C,{variant:"outline",className:(0,I.cn)("text-sm","V\xe1lido"===z.status?"text-green-700":"Vencido"===z.status||"Inv\xe1lido"===z.status?"text-red-700":"Pendiente"===z.status?"text-yellow-700":"No Aplica"===z.status?"text-gray-700":"text-foreground",z.colorClass.includes("green")&&"border-green-500",z.colorClass.includes("orange")&&"border-orange-500",z.colorClass.includes("red")&&"border-red-500",z.colorClass.includes("yellow")&&"border-yellow-500",z.colorClass.includes("gray")&&"border-gray-500"),children:z.status})]}),(0,r.jsx)("p",{className:"text-xs mt-1 ".concat(z.colorClass.replace("bg-","text-").replace("-100","-600")),children:z.message}),t.ultimaRevisionMedica&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["\xdaltima Revisi\xf3n: ",(0,d.p6)(t.ultimaRevisionMedica)]})]})]})}),t.grupoFamiliar&&t.grupoFamiliar.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(k.Z,{}),(0,r.jsx)(q,{title:"Grupo Familiar Aprobado",icon:C.Z,children:(0,r.jsx)(A.UQ,{type:"multiple",className:"w-full",children:t.grupoFamiliar.map((e,a)=>{let t=(0,d.b9)(e.aptoMedico,e.fechaNacimiento),s=e.fotoPerfil||"https://placehold.co/96x96.png";return(0,r.jsxs)(A.Qd,{value:"familiar-".concat(a),children:[(0,r.jsx)(A.o4,{className:"hover:bg-muted/50 px-4 py-3 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(o.qE,{className:"h-10 w-10 border",children:[(0,r.jsx)(o.F$,{src:s,alt:e.nombre,"data-ai-hint":"family member photo"}),(0,r.jsxs)(o.Q5,{children:[e.nombre[0],e.apellido[0]]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-foreground",children:[e.nombre," ",e.apellido]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.relacion," - DNI: ",e.dni]})]})]})}),(0,r.jsxs)(A.vF,{className:"px-4 pt-3 pb-4 space-y-3 bg-muted/20 rounded-b-md",children:[(0,r.jsx)(V,{icon:g,label:"Fecha de Nacimiento",value:(0,d.p6)(e.fechaNacimiento)}),e.email&&(0,r.jsx)(V,{icon:p.Z,label:"Email",value:e.email}),e.telefono&&(0,r.jsx)(V,{icon:h.Z,label:"Tel\xe9fono",value:e.telefono}),(0,r.jsxs)(i.Zb,{className:"p-3 border ".concat(t.colorClass.replace("text-","text-").replace("bg-","bg-opacity-10 border-")),children:[(0,r.jsx)("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Apto M\xe9dico"}),(0,r.jsxs)("div",{className:"flex items-center",children:["V\xe1lido"===t.status&&(0,r.jsx)(N.Z,{className:"h-4 w-4 mr-1.5 ".concat(t.colorClass.replace("bg-","text-").replace("-100","-500"))}),("Vencido"===t.status||"Inv\xe1lido"===t.status)&&(0,r.jsx)(y.Z,{className:"h-4 w-4 mr-1.5 ".concat(t.colorClass.replace("bg-","text-").replace("-100","-500"))}),"Pendiente"===t.status&&(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-1.5 ".concat(t.colorClass.replace("bg-","text-").replace("-100","-500"))}),"No Aplica"===t.status&&(0,r.jsx)(Z.Z,{className:"h-4 w-4 mr-1.5 ".concat(t.colorClass.replace("bg-","text-").replace("-100","-500"))}),(0,r.jsx)(c.C,{variant:"outline",className:(0,I.cn)("text-xs","V\xe1lido"===t.status?"text-green-700":"Vencido"===t.status||"Inv\xe1lido"===t.status?"text-red-700":"Pendiente"===t.status?"text-yellow-700":"No Aplica"===t.status?"text-gray-700":"text-foreground",t.colorClass.includes("green")&&"border-green-500",t.colorClass.includes("orange")&&"border-orange-500",t.colorClass.includes("red")&&"border-red-500",t.colorClass.includes("yellow")&&"border-yellow-500",t.colorClass.includes("gray")&&"border-gray-500"),children:t.status})]}),(0,r.jsx)("p",{className:"text-xs mt-0.5 ".concat(t.colorClass.replace("bg-","text-").replace("-100","-600")),children:t.message})]})]})]},e.dni||a)})})})]}),(0,r.jsx)(k.Z,{}),(0,r.jsx)("div",{className:"text-center pt-4",children:(0,r.jsx)(E.default,{href:"/perfil",passHref:!0,children:(0,r.jsxs)(F.z,{variant:"secondary",size:"lg",children:[(0,r.jsx)(C.Z,{className:"mr-2 h-5 w-5"})," Gestionar Grupo Familiar"]})})}),(0,r.jsxs)(P.bZ,{variant:"default",className:"mt-6",children:[(0,r.jsx)(Z.Z,{className:"h-5 w-5"}),(0,r.jsx)(P.Cd,{children:"Informaci\xf3n Importante"}),(0,r.jsx)(P.X,{children:'Para modificar tus datos personales (nombre, DNI, email, foto de perfil, etc.) o los de tus familiares ya aprobados, por favor, contacta a la administraci\xf3n del club. Puedes proponer cambios a tu grupo familiar (agregar/quitar miembros o modificar datos de miembros a\xfan no validados) desde el bot\xf3n "Gestionar Grupo Familiar". Estos cambios requerir\xe1n aprobaci\xf3n.'})]})]})]})})}},87992:function(e,a,t){"use strict";t.d(a,{Cd:function(){return n},X:function(){return d},bZ:function(){return c}});var r=t(57437),s=t(2265),l=t(13027),i=t(49354);let o=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),c=s.forwardRef((e,a)=>{let{className:t,variant:s,...l}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(o({variant:s}),t),...l})});c.displayName="Alert";let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...s})});n.displayName="AlertTitle";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,r.jsx)("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...s})});d.displayName="AlertDescription"},39630:function(e,a,t){"use strict";t.d(a,{H:function(){return u},V:function(){return d}});var r=t(57437),s=t(2265),l=t(75735),i=t(25419),o=t(26912),c=t(94282),n=t(86763);let d=(0,s.createContext)(void 0),u=e=>{let{children:a}=e,[t,u]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),[f,g]=(0,s.useState)(null),[b,j]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=()=>{};return i.I8&&(e=(0,l.Aj)(i.I8,async e=>{if(j(!0),e){u(e),console.log("Firebase Auth UID for logged-in user:",e.uid);try{let a=await (0,o.AZ)(e.uid);if(a)x(a.role),h("".concat(a.nombre," ").concat(a.apellido)),g(a.numeroSocio);else{let a=await (0,o.Xt)(e.uid);a?(x(a.role),h(a.name)):(console.warn("User with UID ".concat(e.uid," and email ").concat(e.email," is authenticated but has no profile in 'socios' or 'adminUsers' collections. Assign a role in Firestore to grant access.")),x(null),h(e.displayName||e.email)),g(null)}}catch(a){console.error("AuthContext: Failed to fetch user profile from Firestore.",a),(0,n.Am)({title:"Error de Permisos o Conexi\xf3n",description:"No se pudo cargar tu perfil. Esto puede deberse a un problema de conexi\xf3n o a que las reglas de seguridad de Firestore no permiten el acceso. Contacte al administrador.",variant:"destructive",duration:1e4}),x(null),h(e.displayName||e.email),g(null)}}else u(null),x(null),h(null),g(null);j(!1)})),()=>e()},[]);let v=async()=>{await (0,c.TX)()};return(0,r.jsx)(d.Provider,{value:{isLoggedIn:!!t,user:t,userRole:m,userName:p,loggedInUserNumeroSocio:f,isLoading:b,logout:v},children:a})}},67048:function(e,a,t){"use strict";t.d(a,{a:function(){return l}});var r=t(2265),s=t(39630);let l=()=>{let e=(0,r.useContext)(s.V);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},94282:function(e,a,t){"use strict";t.d(a,{EL:function(){return c},TX:function(){return n},pH:function(){return o}});var r=t(75735),s=t(25419),l=t(86763),i=t(26912);let o=async(e,a)=>{try{if(!s.I8)throw Error("Auth service not initialized.");return(await (0,r.e5)(s.I8,e,a)).user}catch(e){return console.error("Firebase login error:",e),(0,l.Am)({title:"Error de Inicio de Sesi\xf3n",description:"Email o contrase\xf1a incorrectos. Por favor, intente de nuevo.",variant:"destructive"}),null}},c=async e=>{try{if(!s.I8)throw Error("Auth service not initialized.");let a=(await (0,r.Xb)(s.I8,e.email,e.password)).user;await (0,r.ck)(a,{displayName:"".concat(e.nombre," ").concat(e.apellido)});let t=async(e,t)=>e instanceof FileList&&e.length>0?(0,i.cT)(e[0],"socios/".concat(a.uid,"/").concat(t)):null,[l,o,c,n]=await Promise.all([t(e.fotoPerfil,"fotoPerfil.jpg"),t(e.fotoDniFrente,"fotoDniFrente.jpg"),t(e.fotoDniDorso,"fotoDniDorso.jpg"),t(e.fotoCarnet,"fotoCarnet.jpg")]),d={email:e.email,nombre:e.nombre,apellido:e.apellido,fechaNacimiento:e.fechaNacimiento,dni:e.dni,empresa:e.empresa,telefono:e.telefono,direccion:e.direccion,fotoUrl:l,fotoPerfil:l,fotoDniFrente:o,fotoDniDorso:c,fotoCarnet:n,grupoFamiliar:[]};return await (0,i.l1)(a.uid,d,!0),a}catch(a){console.error("Firebase signup error:",a);let e="Ocurri\xf3 un error inesperado al crear la cuenta.";return"auth/email-already-in-use"===a.code&&(e="El email ingresado ya est\xe1 en uso. Por favor, utilice otro."),(0,l.Am)({title:"Error de Registro",description:e,variant:"destructive"}),null}},n=async()=>{try{if(!s.I8)throw Error("Auth service not initialized.");await (0,r.w7)(s.I8)}catch(e){console.error("Error signing out:",e),(0,l.Am)({title:"Error",description:"No se pudo cerrar la sesi\xf3n.",variant:"destructive"})}}}},function(e){e.O(0,[4358,139,4868,317,9772,8384,231,932,7619,6068,6639,2971,7023,1744],function(){return e(e.s=78853)}),_N_E=e.O()}]);