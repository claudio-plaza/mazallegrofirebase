(()=>{var e={};e.id=550,e.ids=[550],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},90997:(e,a,i)=>{"use strict";i.r(a),i.d(a,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),i(54042),i(66851),i(35866);var s=i(23191),r=i(88716),t=i(37922),l=i.n(t),o=i(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);i.d(a,n);let d=["",{children:["perfil",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,54042)),"C:\\Users\\Gaton\\mazallegrofirebase\\src\\app\\perfil\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,66851)),"C:\\Users\\Gaton\\mazallegrofirebase\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\Gaton\\mazallegrofirebase\\src\\app\\perfil\\page.tsx"],m="/perfil/page",u={require:i,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/perfil/page",pathname:"/perfil",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94922:(e,a,i)=>{Promise.resolve().then(i.bind(i,44362))},8122:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},39183:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},13961:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},3255:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]])},18019:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},61996:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("MailQuestion",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M18 15.28c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"7z9rxb"}],["path",{d:"M20 22v.01",key:"12bgn6"}]])},64747:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("SquareX",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},98091:(e,a,i)=>{"use strict";i.d(a,{Z:()=>s});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},44362:(e,a,i)=>{"use strict";i.d(a,{AltaSocioMultiStepForm:()=>E});var s=i(10326),r=i(17577),t=i(74723),l=i(74064),o=i(27256),n=i(91664),d=i(29752),c=i(41190),m=i(9969),u=i(84097),x=i(18019),p=i(61996),h=i(64747),f=i(62881);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,f.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),g=(0,f.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var b=i(24061),y=i(13961),N=i(98091),v=i(8122),D=i(11890),F=i(39183),w=i(46724),C=i(94629),G=i(74131),P=i(35342),I=i(8457),z=i(66759),M=i(33261),k=i(36453);function E(){let[e,a]=(0,r.useState)(1),{toast:i}=(0,u.pm)(),{loggedInUserNumeroSocio:f,isLoading:E}=(0,G.a)(),[$,S]=(0,r.useState)(null),[q,Z]=(0,r.useState)(!0),[A,J]=(0,r.useState)(null),[_,X]=(0,r.useState)(""),R=(0,t.cI)({resolver:async(a,i,s)=>{let r;if(1===e){let e=o.z.object({tipoGrupoFamiliar:o.z.enum(["conyugeEHijos","padresMadres"],{required_error:"Debe seleccionar un tipo de grupo familiar."})});r=await (0,l.F)(e)(a,i,s)}else r=await (0,l.F)(P.ms)(a,i,s);return r},mode:"onChange",defaultValues:{tipoGrupoFamiliar:void 0,familiares:{conyuge:null,hijos:[],padres:[]}}}),{control:W,trigger:H,handleSubmit:O,watch:T,setValue:U,getValues:L,reset:V,formState:{errors:Y}}=R,{fields:Q,append:B,remove:K}=(0,t.Dq)({control:W,name:"familiares.hijos"}),{fields:ee,append:ea,remove:ei}=(0,t.Dq)({control:W,name:"familiares.padres"}),es=T("tipoGrupoFamiliar"),er=(0,r.useCallback)(async()=>{if(!f||E)return;Z(!0);let e=await (0,z.g1)(f);if(S(e),e){let a=null;e.grupoFamiliar?.some(e=>e.relacion===P.$g.CONYUGE)||e.grupoFamiliar?.some(e=>e.relacion===P.$g.HIJO_A)?a="conyugeEHijos":e.grupoFamiliar?.some(e=>e.relacion===P.$g.PADRE_MADRE)&&(a="padresMadres"),J(a);let i=e.estadoCambioGrupoFamiliar===P.z_.PENDIENTE&&e.cambiosPendientesGrupoFamiliar?e.cambiosPendientesGrupoFamiliar:{tipoGrupoFamiliar:a,familiares:{conyuge:e.grupoFamiliar?.find(e=>e.relacion===P.$g.CONYUGE)||null,hijos:e.grupoFamiliar?.filter(e=>e.relacion===P.$g.HIJO_A)||[],padres:e.grupoFamiliar?.filter(e=>e.relacion===P.$g.PADRE_MADRE)||[]}};i.tipoGrupoFamiliar&&i.tipoGrupoFamiliar&&U("tipoGrupoFamiliar",i.tipoGrupoFamiliar);let s=i.familiares?.conyuge,r=i.familiares?.hijos,t=i.familiares?.padres;U("familiares.conyuge",s?{...s,relacion:P.$g.CONYUGE,fechaNacimiento:s.fechaNacimiento,fotoDniFrente:"string"==typeof s.fotoDniFrente?s.fotoDniFrente:null,fotoDniDorso:"string"==typeof s.fotoDniDorso?s.fotoDniDorso:null,fotoPerfil:"string"==typeof s.fotoPerfil?s.fotoPerfil:null}:null),U("familiares.hijos",r?.map(e=>({...e,relacion:P.$g.HIJO_A,fechaNacimiento:e.fechaNacimiento,fotoDniFrente:"string"==typeof e.fotoDniFrente?e.fotoDniFrente:null,fotoDniDorso:"string"==typeof e.fotoDniDorso?e.fotoDniDorso:null,fotoPerfil:"string"==typeof e.fotoPerfil?e.fotoPerfil:null}))||[]),U("familiares.padres",t?.map(e=>({...e,relacion:P.$g.PADRE_MADRE,fechaNacimiento:e.fechaNacimiento,fotoDniFrente:"string"==typeof e.fotoDniFrente?e.fotoDniFrente:null,fotoDniDorso:"string"==typeof e.fotoDniDorso?e.fotoDniDorso:null,fotoPerfil:"string"==typeof e.fotoPerfil?e.fotoPerfil:null}))||[])}Z(!1)},[f,E,U]),et=async()=>{if(1===e?await H(["tipoGrupoFamiliar"]):2!==e||await H(["familiares"]))e<3&&a(e=>e+1);else{let a="Por favor, corrija los errores en el formulario.";1===e&&Y.tipoGrupoFamiliar?a=Y.tipoGrupoFamiliar.message||"Por favor, seleccione un tipo de grupo familiar para continuar.":2===e&&Y.familiares&&Y.familiares.message?a=Y.familiares.message:2===e&&Y.familiares&&(a="Verifique los datos de los familiares."),i({title:"Error de Validaci\xf3n",description:a,variant:"destructive"})}},el=async e=>{if(!$){i({title:"Error",description:"No se pudieron cargar los datos del socio titular.",variant:"destructive"});return}if($.estadoCambioGrupoFamiliar===P.z_.PENDIENTE){i({title:"Solicitud en Curso",description:"Ya tiene una solicitud pendiente de aprobaci\xf3n.",variant:"default"});return}let s=async(e,a,i)=>e instanceof FileList&&e.length>0?(0,z.cT)(e[0],`socios/${$.id}/familiares/${a}_${i}.jpg`):"string"==typeof e?e:null,r=async e=>{if(!e)return null;let a=e.id||(0,I.Ox)(),[i,r,t,l]=await Promise.all([s(e.fotoPerfil,a,"perfil"),s(e.fotoDniFrente,a,"dniFrente"),s(e.fotoDniDorso,a,"dniDorso"),s(e.fotoCarnet,a,"carnet")]);return{...e,id:a,fechaNacimiento:e.fechaNacimiento,fotoPerfil:i,fotoDniFrente:r,fotoDniDorso:t,fotoCarnet:l}},t={tipoGrupoFamiliar:e.tipoGrupoFamiliar,familiares:{conyuge:await r(e.familiares.conyuge),hijos:await Promise.all((e.familiares.hijos||[]).map(r)),padres:await Promise.all((e.familiares.padres||[]).map(r))}},l={...$,cambiosPendientesGrupoFamiliar:t,estadoCambioGrupoFamiliar:P.z_.PENDIENTE,motivoRechazoCambioGrupoFamiliar:null};try{await (0,z.uL)(l),i({title:"Solicitud de Cambio Enviada",description:"Tus cambios en el grupo familiar han sido enviados para aprobaci\xf3n."}),er(),a(1)}catch(e){console.error("Error actualizando socio con cambios pendientes:",e),i({title:"Error",description:"No se pudo enviar la solicitud de cambio.",variant:"destructive"})}};if(q||E)return s.jsx("p",{className:"text-center py-10",children:"Cargando datos del perfil..."});if(!$&&!E&&!q)return s.jsx("p",{className:"text-center py-10 text-destructive",children:"Error al cargar datos del socio. Por favor, intente recargar."});let eo=$?.estadoCambioGrupoFamiliar===P.z_.PENDIENTE,en=!!A||eo;return s.jsx(t.RV,{...R,children:(0,s.jsxs)(d.Zb,{className:"w-full max-w-3xl mx-auto",children:[(0,s.jsxs)(d.Ol,{children:[s.jsx(d.ll,{children:"Gestionar Grupo Familiar"}),(0,s.jsxs)(d.SZ,{children:["Paso ",e," de ",3," - ",1===e?"Selecci\xf3n de tipo de grupo":2===e?"Detalles de familiares":"Revisi\xf3n final"]}),(0,s.jsxs)(M.bZ,{variant:"default",className:"mt-4 bg-primary/10 border-primary/30 text-primary",children:[s.jsx(x.Z,{className:"h-5 w-5"}),s.jsx(M.Cd,{className:"font-semibold",children:"Informaci\xf3n sobre Modificaciones"}),s.jsx(M.X,{children:"Cualquier cambio que realice aqu\xed a su grupo familiar (agregar, quitar o modificar datos de familiares, incluyendo fotos) se enviar\xe1 como una solicitud que deber\xe1 ser aprobada por la administraci\xf3n."})]}),eo&&(0,s.jsxs)(M.bZ,{variant:"default",className:"mt-4 bg-yellow-500/10 border-yellow-500/30 text-yellow-700",children:[s.jsx(p.Z,{className:"h-5 w-5"}),s.jsx(M.Cd,{className:"font-semibold",children:"Solicitud Pendiente"}),s.jsx(M.X,{children:"Tiene una solicitud de cambio para su grupo familiar pendiente de aprobaci\xf3n. No podr\xe1 realizar nuevas solicitudes hasta que la actual sea procesada. Si desea cancelar la solicitud actual, contacte a administraci\xf3n."})]}),$?.estadoCambioGrupoFamiliar===P.z_.RECHAZADO&&(0,s.jsxs)(M.bZ,{variant:"destructive",className:"mt-4",children:[s.jsx(h.Z,{className:"h-5 w-5"}),s.jsx(M.Cd,{className:"font-semibold",children:"Solicitud Rechazada"}),(0,s.jsxs)(M.X,{children:["Su \xfaltima solicitud de cambio fue rechazada. Motivo: ",$.motivoRechazoCambioGrupoFamiliar||"No especificado",". Puede realizar una nueva solicitud corrigiendo los datos."]})]}),A&&!eo&&1===e&&(0,s.jsxs)(M.bZ,{variant:"default",className:"mt-4 bg-secondary/10 border-secondary/30 text-secondary",children:[s.jsx(j,{className:"h-5 w-5 text-secondary"}),s.jsx(M.Cd,{className:"font-semibold text-secondary",children:"Tipo de Grupo Establecido"}),(0,s.jsxs)(M.X,{children:["Actualmente tiene un grupo familiar de tipo: ",s.jsx("strong",{children:"conyugeEHijos"===A?"C\xf3nyuge e Hijos/as":"Padres/Madres"}),". Si necesita cambiar el tipo de grupo fundamental, deber\xe1 contactar a la administraci\xf3n, ya que esta selecci\xf3n est\xe1 bloqueada. Puede editar los miembros dentro del tipo actual en el siguiente paso."]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 mt-2",children:s.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${e/3*100}%`}})})]}),(0,s.jsxs)("form",{onSubmit:O(el),children:[(0,s.jsxs)(d.aY,{className:"space-y-6",children:[1===e&&(0,s.jsxs)("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tipo de Grupo Familiar"}),s.jsx(m.Wi,{control:W,name:"tipoGrupoFamiliar",render:({field:e})=>(0,s.jsxs)(m.xJ,{className:"space-y-3",children:[s.jsx(m.lX,{className:en?"text-muted-foreground":"",children:en?"Tipo de grupo actual (bloqueado):":"\xbfQu\xe9 tipo de grupo familiar desea registrar o modificar?"}),s.jsx(m.NI,{children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx(n.z,{type:"button",variant:"conyugeEHijos"===e.value?"default":"outline",onClick:()=>e.onChange("conyugeEHijos"),className:"flex-1 justify-start p-6 text-left h-auto",disabled:en,children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(g,{className:"mr-3 h-6 w-6 text-red-500"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-semibold",children:"C\xf3nyuge e Hijos/as"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Agregue los datos de su c\xf3nyuge y/o hijos."})]})]})}),s.jsx(n.z,{type:"button",variant:"padresMadres"===e.value?"default":"outline",onClick:()=>e.onChange("padresMadres"),className:"flex-1 justify-start p-6 text-left h-auto",disabled:en,children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(b.Z,{className:"mr-3 h-6 w-6 text-secondary"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-semibold",children:"Padres/Madres"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Agregue los datos de sus padres o madres."})]})]})})]})}),s.jsx(m.zG,{})]})})]}),2===e&&(0,s.jsxs)("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Datos del Grupo Familiar"}),!es&&s.jsx("p",{className:"text-destructive",children:"Por favor, regrese al paso anterior y seleccione un tipo de grupo familiar."}),"conyugeEHijos"===es&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mb-6 p-4 border rounded-md",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h4",{className:"text-md font-semibold",children:"Datos del C\xf3nyuge"}),T("familiares.conyuge")?(0,s.jsxs)(n.z,{type:"button",size:"sm",variant:"destructive",onClick:()=>U("familiares.conyuge",null),disabled:eo,children:[s.jsx(N.Z,{className:"mr-2 h-4 w-4"})," Quitar C\xf3nyuge"]}):(0,s.jsxs)(n.z,{type:"button",size:"sm",variant:"outline",onClick:()=>U("familiares.conyuge",{apellido:"",nombre:"",fechaNacimiento:new Date,dni:"",relacion:P.$g.CONYUGE,fotoDniFrente:null,fotoDniDorso:null,fotoPerfil:null,telefono:"",direccion:"",email:""}),disabled:eo,children:[s.jsx(y.Z,{className:"mr-2 h-4 w-4"})," Agregar C\xf3nyuge"]})]}),T("familiares.conyuge")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(m.Wi,{control:W,name:"familiares.conyuge.apellido",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Apellido C\xf3nyuge"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:"familiares.conyuge.nombre",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Nombre C\xf3nyuge"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:"familiares.conyuge.fechaNacimiento",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[s.jsx(m.lX,{children:"Fecha Nac. C\xf3nyuge"}),s.jsx(m.NI,{children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(v.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),s.jsx(c.I,{type:"date",value:e.value?(0,w.WU)(new Date(e.value),"yyyy-MM-dd"):"",onChange:a=>e.onChange(a.target.value?(0,C.D)(a.target.value):null),className:"w-full pl-10",max:_,min:"1900-01-01",disabled:eo||!_})]})}),s.jsx(m.zG,{})]})}),s.jsx(m.Wi,{control:W,name:"familiares.conyuge.dni",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"DNI C\xf3nyuge"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"number",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:"familiares.conyuge.telefono",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Tel\xe9fono (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"tel",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:"familiares.conyuge.direccion",render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Direcci\xf3n (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:"familiares.conyuge.email",render:({field:e})=>(0,s.jsxs)(m.xJ,{className:"md:col-span-2",children:[" ",s.jsx(m.lX,{children:"Email (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"email",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})})]}),s.jsx("h5",{className:"text-sm font-semibold mt-4 mb-2",children:"Documentaci\xf3n C\xf3nyuge"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(k.S,{name:"familiares.conyuge.fotoDniFrente",label:"DNI Frente",control:W,disabled:eo}),s.jsx(k.S,{name:"familiares.conyuge.fotoDniDorso",label:"DNI Dorso",control:W,disabled:eo}),s.jsx(k.S,{name:"familiares.conyuge.fotoPerfil",label:"Foto Perfil",control:W,disabled:eo})]})]})]}),(0,s.jsxs)("div",{className:"mb-6 p-4 border rounded-md",children:[(0,s.jsxs)("h4",{className:"text-md font-semibold mb-2",children:["Datos de Hijos/as (hasta ",P.fk,")"]}),Q.map((e,a)=>(0,s.jsxs)("div",{className:"mb-4 p-4 border rounded-md relative bg-muted/20",children:[(0,s.jsxs)(n.z,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive hover:bg-destructive/10",onClick:()=>K(a),disabled:eo,children:[" ",s.jsx(N.Z,{className:"h-4 w-4"})," "]}),(0,s.jsxs)("p",{className:"font-medium mb-2",children:["Hijo/a ",a+1]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.apellido`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Apellido"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.nombre`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Nombre"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.fechaNacimiento`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Fecha Nac."}),s.jsx(m.NI,{children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(v.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),s.jsx(c.I,{type:"date",value:e.value?(0,w.WU)(new Date(e.value),"yyyy-MM-dd"):"",onChange:a=>e.onChange(a.target.value?(0,C.D)(a.target.value):null),className:"w-full pl-10",max:_,min:"1900-01-01",disabled:eo||!_})]})}),s.jsx(m.zG,{})]})}),s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.dni`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"DNI"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"number",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.telefono`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Tel\xe9fono (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"tel",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.direccion`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Direcci\xf3n (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.hijos.${a}.email`,render:({field:e})=>(0,s.jsxs)(m.xJ,{className:"md:col-span-2",children:[" ",s.jsx(m.lX,{children:"Email (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"email",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})})]}),(0,s.jsxs)("h5",{className:"text-sm font-semibold mt-4 mb-2",children:["Documentaci\xf3n Hijo/a ",a+1]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(k.S,{name:`familiares.hijos.${a}.fotoDniFrente`,label:"DNI Frente",control:W,disabled:eo}),s.jsx(k.S,{name:`familiares.hijos.${a}.fotoDniDorso`,label:"DNI Dorso",control:W,disabled:eo}),s.jsx(k.S,{name:`familiares.hijos.${a}.fotoPerfil`,label:"Foto Perfil",control:W,disabled:eo})]})]},e.id)),Q.length<P.fk&&(0,s.jsxs)(n.z,{type:"button",variant:"outline",onClick:()=>B({id:(0,I.Ox)(),apellido:"",nombre:"",fechaNacimiento:new Date,dni:"",relacion:P.$g.HIJO_A,fotoDniFrente:null,fotoDniDorso:null,fotoPerfil:null,telefono:"",direccion:"",email:""}),disabled:eo,children:[s.jsx(y.Z,{className:"mr-2 h-4 w-4"})," Agregar Hijo/a"]})]})]}),"padresMadres"===es&&(0,s.jsxs)("div",{className:"mb-6 p-4 border rounded-md",children:[(0,s.jsxs)("h4",{className:"text-md font-semibold mb-2",children:["Datos de Padres/Madres (hasta ",P.yP,")"]}),ee.map((e,a)=>(0,s.jsxs)("div",{className:"mb-4 p-4 border rounded-md relative bg-muted/20",children:[(0,s.jsxs)(n.z,{type:"button",variant:"ghost",size:"icon",className:"absolute top-2 right-2 text-destructive hover:bg-destructive/10",onClick:()=>ei(a),disabled:eo,children:[" ",s.jsx(N.Z,{className:"h-4 w-4"})," "]}),(0,s.jsxs)("p",{className:"font-medium mb-2",children:["Padre/Madre ",a+1]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.apellido`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Apellido"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.nombre`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Nombre"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.fechaNacimiento`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Fecha Nac."}),s.jsx(m.NI,{children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(v.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"}),s.jsx(c.I,{type:"date",value:e.value?(0,w.WU)(new Date(e.value),"yyyy-MM-dd"):"",onChange:a=>e.onChange(a.target.value?(0,C.D)(a.target.value):null),className:"w-full pl-10",max:_,min:"1900-01-01",disabled:eo||!_})]})}),s.jsx(m.zG,{})]})}),s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.dni`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"DNI"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"number",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.telefono`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Tel\xe9fono (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"tel",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.direccion`,render:({field:e})=>(0,s.jsxs)(m.xJ,{children:[" ",s.jsx(m.lX,{children:"Direcci\xf3n (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})}),s.jsx(m.Wi,{control:W,name:`familiares.padres.${a}.email`,render:({field:e})=>(0,s.jsxs)(m.xJ,{className:"md:col-span-2",children:[" ",s.jsx(m.lX,{children:"Email (Opcional)"})," ",s.jsx(m.NI,{children:s.jsx(c.I,{type:"email",...e,disabled:eo})})," ",s.jsx(m.zG,{})," "]})})]}),(0,s.jsxs)("h5",{className:"text-sm font-semibold mt-4 mb-2",children:["Documentaci\xf3n Padre/Madre ",a+1]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(k.S,{name:`familiares.padres.${a}.fotoDniFrente`,label:"DNI Frente",control:W,disabled:eo}),s.jsx(k.S,{name:`familiares.padres.${a}.fotoDniDorso`,label:"DNI Dorso",control:W,disabled:eo}),s.jsx(k.S,{name:`familiares.padres.${a}.fotoPerfil`,label:"Foto Perfil",control:W,disabled:eo})]})]},e.id)),ee.length<P.yP&&(0,s.jsxs)(n.z,{type:"button",variant:"outline",onClick:()=>ea({id:(0,I.Ox)(),apellido:"",nombre:"",fechaNacimiento:new Date,dni:"",relacion:P.$g.PADRE_MADRE,fotoDniFrente:null,fotoDniDorso:null,fotoPerfil:null,telefono:"",direccion:"",email:""}),disabled:eo,children:[s.jsx(y.Z,{className:"mr-2 h-4 w-4"})," Agregar Padre/Madre"]})]}),Y.familiares&&Y.familiares.message&&s.jsx(m.xJ,{children:s.jsx(m.zG,{children:Y.familiares.message})}),Y.root?.message&&s.jsx(m.xJ,{children:s.jsx(m.zG,{children:Y.root.message})})]}),3===e&&(0,s.jsxs)("section",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revisar y Enviar Solicitud de Cambio"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Por favor, revisa que toda la informaci\xf3n sea correcta antes de enviar la solicitud de cambio. Esta ser\xe1 revisada por administraci\xf3n."}),(0,s.jsxs)("div",{className:"space-y-2 p-4 border rounded-md bg-muted/30",children:[(0,s.jsxs)("p",{children:[s.jsx("strong",{children:"Tipo de Grupo Familiar Propuesto:"})," ","conyugeEHijos"===(T("tipoGrupoFamiliar")||A)?"C\xf3nyuge e Hijos/as":"padresMadres"===(T("tipoGrupoFamiliar")||A)?"Padres/Madres":"No seleccionado"]}),("conyugeEHijos"===T("tipoGrupoFamiliar")||"conyugeEHijos"===A)&&(0,s.jsxs)(s.Fragment,{children:[T("familiares.conyuge")&&(0,s.jsxs)("p",{className:"pl-4",children:[s.jsx("strong",{children:"C\xf3nyuge:"})," ",T("familiares.conyuge.nombre")," ",T("familiares.conyuge.apellido")]}),T("familiares.hijos")?.map((e,a)=>s.jsxs("p",{className:"pl-4",children:[s.jsxs("strong",{children:["Hijo/a ",a+1,":"]})," ",e.nombre," ",e.apellido]},`hijo-rev-${a}`)),T("familiares.hijos")?.length===0&&!T("familiares.conyuge")&&s.jsx("p",{className:"pl-4 text-muted-foreground",children:"No se proponen c\xf3nyuges ni hijos/as."})]}),("padresMadres"===T("tipoGrupoFamiliar")||"padresMadres"===A)&&(0,s.jsxs)(s.Fragment,{children:[T("familiares.padres")?.map((e,a)=>s.jsxs("p",{className:"pl-4",children:[s.jsxs("strong",{children:["Padre/Madre ",a+1,":"]})," ",e.nombre," ",e.apellido]},`padre-rev-${a}`)),T("familiares.padres")?.length===0&&s.jsx("p",{className:"pl-4 text-muted-foreground",children:"No se proponen padres/madres."})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Al enviar, la informaci\xf3n proporcionada quedar\xe1 pendiente de aprobaci\xf3n por la administraci\xf3n."})]})]}),(0,s.jsxs)(d.eW,{className:"flex justify-between",children:[(0,s.jsxs)(n.z,{type:"button",variant:"outline",onClick:()=>{e>1&&a(e=>e-1)},disabled:1===e,children:[s.jsx(D.Z,{className:"mr-2 h-4 w-4"})," Anterior"]}),e<3?(0,s.jsxs)(n.z,{type:"button",onClick:et,disabled:eo,children:["Siguiente ",s.jsx(F.Z,{className:"ml-2 h-4 w-4"})]}):s.jsx(n.z,{type:"submit",disabled:R.formState.isSubmitting||eo,children:R.formState.isSubmitting?"Enviando...":"Enviar Solicitud de Cambio"})]})]})]})})}},33261:(e,a,i)=>{"use strict";i.d(a,{Cd:()=>d,X:()=>c,bZ:()=>n});var s=i(10326),r=i(17577),t=i(79360),l=i(51223);let o=(0,t.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=r.forwardRef(({className:e,variant:a,...i},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,l.cn)(o({variant:a}),e),...i}));n.displayName="Alert";let d=r.forwardRef(({className:e,...a},i)=>s.jsx("h5",{ref:i,className:(0,l.cn)("mb-1 font-medium leading-none tracking-tight",e),...a}));d.displayName="AlertTitle";let c=r.forwardRef(({className:e,...a},i)=>s.jsx("div",{ref:i,className:(0,l.cn)("text-sm [&_p]:leading-relaxed",e),...a}));c.displayName="AlertDescription"},36453:(e,a,i)=>{"use strict";i.d(a,{S:()=>x});var s=i(10326),r=i(17577),t=i(74723),l=i(46226),o=i(36283),n=i(3255),d=i(98091),c=i(91664),m=i(41190),u=i(9969);function x({name:e,label:a,control:i,isEditable:x=!0,aiHint:p,accept:h,...f}){let{field:j}=(0,t.bc)({name:e,control:i}),g=j.value,b=(0,r.useMemo)(()=>g instanceof FileList&&g.length>0&&g[0].type.startsWith("image/")?URL.createObjectURL(g[0]):"string"==typeof g?g:null,[g]),y=(0,r.useMemo)(()=>g instanceof FileList&&g.length>0?g[0].name:null,[g]);return(0,s.jsxs)(u.xJ,{children:[s.jsx(u.lX,{children:a}),s.jsx(u.NI,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("label",{className:`relative cursor-pointer w-full min-h-[120px] h-[120px] flex flex-col items-center justify-center p-2 border-2 border-dashed rounded-md transition-colors ${x?"hover:border-primary bg-background hover:bg-muted/50":"cursor-not-allowed bg-muted/50"}`,children:[b?s.jsx(l.default,{src:b,alt:`Vista previa de ${a}`,fill:!0,className:"object-contain rounded-md","data-ai-hint":p||"user document photo"}):y?(0,s.jsxs)("div",{className:"text-center p-2 text-muted-foreground",children:[s.jsx(o.Z,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{className:"text-xs break-all",children:y})]}):(0,s.jsxs)("div",{className:"text-center p-2 text-muted-foreground",children:[s.jsx(n.Z,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{className:"text-xs",children:"Subir archivo"})]}),s.jsx(m.I,{type:"file",className:"hidden",onChange:e=>j.onChange(e.target.files&&e.target.files.length>0?e.target.files:null),disabled:!x,accept:h,...f})]}),x&&g&&s.jsx(c.z,{type:"button",variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-7 w-7 bg-card rounded-full shadow-md hover:bg-destructive/10",onClick:()=>j.onChange(null),children:s.jsx(d.Z,{className:"h-4 w-4 text-destructive"})})]})}),s.jsx(u.zG,{})]})}},9969:(e,a,i)=>{"use strict";i.d(a,{NI:()=>f,Wi:()=>m,l0:()=>d,lX:()=>h,pf:()=>j,xJ:()=>p,zG:()=>g});var s=i(10326),r=i(17577),t=i(34214),l=i(74723),o=i(51223),n=i(44794);let d=l.RV,c=r.createContext({}),m=({...e})=>s.jsx(c.Provider,{value:{name:e.name},children:s.jsx(l.Qr,{...e})}),u=()=>{let e=r.useContext(c),a=r.useContext(x),{getFieldState:i,formState:s}=(0,l.Gc)(),t=i(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:o}=a;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...t}},x=r.createContext({}),p=r.forwardRef(({className:e,...a},i)=>{let t=r.useId();return s.jsx(x.Provider,{value:{id:t},children:s.jsx("div",{ref:i,className:(0,o.cn)("space-y-2",e),...a})})});p.displayName="FormItem";let h=r.forwardRef(({className:e,...a},i)=>{let{error:r,formItemId:t}=u();return s.jsx(n._,{ref:i,className:(0,o.cn)(r&&"text-destructive",e),htmlFor:t,...a})});h.displayName="FormLabel";let f=r.forwardRef(({...e},a)=>{let{error:i,formItemId:r,formDescriptionId:l,formMessageId:o}=u();return s.jsx(t.g7,{ref:a,id:r,"aria-describedby":i?`${l} ${o}`:`${l}`,"aria-invalid":!!i,...e})});f.displayName="FormControl";let j=r.forwardRef(({className:e,...a},i)=>{let{formDescriptionId:r}=u();return s.jsx("p",{ref:i,id:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...a})});j.displayName="FormDescription";let g=r.forwardRef(({className:e,children:a,...i},r)=>{let{error:t,formMessageId:l}=u(),n=t?String(t?.message??""):a;return n?s.jsx("p",{ref:r,id:l,className:(0,o.cn)("text-sm font-medium text-destructive",e),...i,children:n}):null});g.displayName="FormMessage"},54042:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>m,metadata:()=>c});var s=i(19510),r=i(68570);let t=(0,r.createProxy)(String.raw`C:\Users\Gaton\mazallegrofirebase\src\components\perfil\AltaSocioMultiStepForm.tsx`),{__esModule:l,$$typeof:o}=t;t.default;let n=(0,r.createProxy)(String.raw`C:\Users\Gaton\mazallegrofirebase\src\components\perfil\AltaSocioMultiStepForm.tsx#AltaSocioMultiStepForm`);var d=i(71872);let c={title:`Solicitud de Alta / Mi Perfil - ${d.J.name}`,description:`Completa tus datos para registrarte como socio en ${d.J.name} o actualiza tu perfil.`};function m(){return s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(n,{})})}},2555:(e,a,i)=>{"use strict";i.d(a,{e:()=>t});var s=i(71271),r=i(99276);function t(e,a){return function(e,a){let i=(0,s.Q)(e);if(isNaN(a))return(0,r.L)(e,NaN);if(!a)return i;let t=i.getDate(),l=(0,r.L)(e,i.getTime());return(l.setMonth(i.getMonth()+a+1,0),t>=l.getDate())?l:(i.setFullYear(l.getFullYear(),l.getMonth(),t),i)}(e,-(12*a))}}};var a=require("../../webpack-runtime.js");a.C(e);var i=e=>a(a.s=e),s=a.X(0,[948,266,621,256,880,620,197],()=>i(90997));module.exports=s})();