exports.id=620,exports.ids=[620],exports.modules={38545:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},17981:(e,t,r)=>{Promise.resolve().then(r.bind(r,82521)),Promise.resolve().then(r.bind(r,21213))},21213:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>j});var a=r(10326),i=r(94001),o=r(84097),s=r(17577),n=r(78355),d=r(79360),l=r(94019),c=r(51223);let u=n.zt,f=s.forwardRef(({className:e,...t},r)=>a.jsx(n.l_,{ref:r,className:(0,c.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));f.displayName=n.l_.displayName;let m=(0,d.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),p=s.forwardRef(({className:e,variant:t,...r},i)=>a.jsx(n.fC,{ref:i,className:(0,c.cn)(m({variant:t}),e),...r}));p.displayName=n.fC.displayName,s.forwardRef(({className:e,...t},r)=>a.jsx(n.aU,{ref:r,className:(0,c.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=n.aU.displayName;let h=s.forwardRef(({className:e,...t},r)=>a.jsx(n.x8,{ref:r,className:(0,c.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));h.displayName=n.x8.displayName;let g=s.forwardRef(({className:e,...t},r)=>a.jsx(n.Dx,{ref:r,className:(0,c.cn)("text-sm font-semibold",e),...t}));g.displayName=n.Dx.displayName;let x=s.forwardRef(({className:e,...t},r)=>a.jsx(n.dk,{ref:r,className:(0,c.cn)("text-sm opacity-90",e),...t}));function b(){let{toasts:e}=(0,o.pm)();return(0,a.jsxs)(u,{children:[e.map(function({id:e,title:t,description:r,action:i,...o}){return(0,a.jsxs)(p,{...o,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[t&&a.jsx(g,{children:t}),r&&a.jsx(x,{children:r})]}),i,a.jsx(h,{})]},e)}),a.jsx(f,{})]})}x.displayName=n.dk.displayName;var v=r(22852),y=r(44976);let w=new v.S;function j({children:e}){return a.jsx(y.aH,{client:w,children:(0,a.jsxs)(i.H,{children:[e,a.jsx(b,{})]})})}},82521:(e,t,r)=>{"use strict";r.d(t,{MainLayoutWrapper:()=>I});var a=r(10326),i=r(35047),o=r(90434),s=r(46226);let n=()=>a.jsx("header",{className:"bg-background/95 backdrop-blur-sm border-b sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:a.jsx(o.default,{href:"/",className:"flex items-center space-x-2",children:a.jsx(s.default,{src:"https://placehold.co/153x76.png",alt:"[Tu Logo]","data-ai-hint":"company logo",width:100,height:50,className:"h-auto",priority:!0})})})});var d=r(83495),l=r(7027),c=r(91664),u=r(17577),f=r(7911),m=r(51223);let p=f.fC,h=f.xz,g=u.forwardRef(({className:e,align:t="center",sideOffset:r=4,...i},o)=>a.jsx(f.h_,{children:a.jsx(f.VY,{ref:o,align:t,sideOffset:r,className:(0,m.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));g.displayName=f.VY.displayName;let x=e=>`https://wa.me/${e.replace(/\s+|\+/g,"")}`,b="+54 9 2613 60 9590",v="+54 261 3693534";function y(){return a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:(0,a.jsxs)(p,{children:[a.jsx(h,{asChild:!0,children:a.jsx(c.z,{variant:"default",size:"lg",className:"rounded-full shadow-lg w-16 h-16 p-0 flex items-center justify-center","aria-label":"Contactar por WhatsApp",children:a.jsx(d.Z,{className:"h-8 w-8 text-primary-foreground"})})}),a.jsx(g,{className:"w-80 p-4 rounded-lg shadow-xl bg-background border-border",children:(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium leading-none text-foreground",children:"Contactar por WhatsApp"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Elige una opci\xf3n para iniciar una conversaci\xf3n."})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)(o.default,{href:x(b),target:"_blank",rel:"noopener noreferrer",className:"group flex items-center justify-between rounded-md border border-input bg-transparent px-4 py-3 text-sm hover:bg-accent hover:text-accent-foreground transition-colors",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"Contacto General"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:b})]}),a.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground group-hover:text-accent-foreground"})]}),(0,a.jsxs)(o.default,{href:x(v),target:"_blank",rel:"noopener noreferrer",className:"group flex items-center justify-between rounded-md border border-input bg-transparent px-4 py-3 text-sm hover:bg-accent hover:text-accent-foreground transition-colors",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"Eventos y Consultas"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:v})]}),a.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground group-hover:text-accent-foreground"})]})]})]})})]})})}var w=r(63993),j=r(74131),N=r(71810),D=r(11890),C=r(82631);function S({className:e,isExpanded:t,onToggle:r}){let n=(0,i.usePathname)(),{userRole:d,logout:l}=(0,j.a)(),u=(0,i.useRouter)(),f=async()=>{await l(),u.push("/login"),u.refresh()},p=w.Q.filter(e=>d&&e.roles.includes(d));return a.jsx(C.pn,{delayDuration:0,children:(0,a.jsxs)("aside",{className:(0,m.cn)("flex flex-col bg-secondary text-secondary-foreground border-r border-secondary-foreground/20",e),children:[a.jsx("div",{className:(0,m.cn)("h-16 flex items-center border-b border-secondary-foreground/20 transition-all duration-300",t?"justify-start px-4":"justify-center px-2"),children:a.jsx(o.default,{href:"/dashboard",className:"flex items-center space-x-2",children:t?a.jsx(s.default,{src:"https://placehold.co/153x76.png",alt:"[Tu Logo]","data-ai-hint":"company logo",width:120,height:60,className:"h-auto",priority:!0}):a.jsx(s.default,{src:"https://placehold.co/40x40.png",alt:"[Tu Logo]","data-ai-hint":"club logo",width:40,height:40,className:"h-auto rounded-md",priority:!0})})}),a.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:p.map(e=>(0,a.jsxs)(C.u,{children:[a.jsx(C.aJ,{asChild:!0,children:a.jsx(o.default,{href:e.href,passHref:!0,children:(0,a.jsxs)(c.z,{variant:n.startsWith(e.href)?"default":"ghost",className:(0,m.cn)("w-full text-sm h-11",n.startsWith(e.href)?"bg-primary text-primary-foreground hover:bg-primary/90":"hover:bg-primary/20 hover:text-secondary-foreground",t?"justify-start":"justify-center p-0"),children:[a.jsx(e.icon,{className:(0,m.cn)("h-5 w-5",t&&"mr-3")}),a.jsx("span",{className:(0,m.cn)(!t&&"sr-only"),children:e.title})]})})}),!t&&a.jsx(C._v,{side:"right",children:a.jsx("p",{children:e.title})})]},e.id))}),(0,a.jsxs)("div",{className:"p-2 border-t border-secondary-foreground/20 mt-auto",children:[(0,a.jsxs)(C.u,{children:[a.jsx(C.aJ,{asChild:!0,children:(0,a.jsxs)(c.z,{variant:"ghost",className:(0,m.cn)("w-full text-secondary-foreground hover:bg-primary/20",!t&&"justify-center p-0"),onClick:f,children:[a.jsx(N.Z,{className:(0,m.cn)("h-5 w-5",t&&"mr-2")}),a.jsx("span",{className:(0,m.cn)(!t&&"sr-only"),children:"Cerrar Sesi\xf3n"})]})}),!t&&a.jsx(C._v,{side:"right",children:a.jsx("p",{children:"Cerrar Sesi\xf3n"})})]}),r&&(0,a.jsxs)(c.z,{variant:"ghost",className:(0,m.cn)("w-full mt-1 hover:bg-primary/20",!t&&"justify-center p-0"),onClick:r,children:[a.jsx(D.Z,{className:(0,m.cn)("h-5 w-5 transition-transform",!t&&"rotate-180")}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})]})]})})}var z=r(76066),E=r(9664);function I({children:e}){let t=(0,i.usePathname)(),{isLoggedIn:r,userRole:d,isLoading:l}=(0,j.a)(),f=t.startsWith("/admin"),[p,h]=(0,u.useState)(!0);if("/dashboard"===t&&(l||d&&"socio"!==d)||f)return a.jsx(a.Fragment,{children:e});let g=["/","/login","/signup"].includes(t);return!r||g?(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[a.jsx(n,{}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:e}),(0,a.jsxs)("footer",{className:"bg-muted text-muted-foreground py-4 text-center text-sm",children:["\xa9 ",new Date().getFullYear()," ",w.J.name,". Todos los derechos reservados."]}),a.jsx(y,{})]}):(0,a.jsxs)("div",{className:"flex min-h-screen w-full flex-col bg-muted/40",children:[a.jsx(S,{isExpanded:p,onToggle:()=>h(!p),className:(0,m.cn)("hidden md:flex md:fixed md:h-full md:z-10 transition-[width] duration-300 ease-in-out",p?"md:w-64":"md:w-20")}),(0,a.jsxs)("div",{className:(0,m.cn)("flex flex-col transition-[padding-left] duration-300 ease-in-out",p?"md:pl-64":"md:pl-20"),children:[(0,a.jsxs)("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6 md:hidden",children:[(0,a.jsxs)(z.yo,{children:[a.jsx(z.aM,{asChild:!0,children:(0,a.jsxs)(c.z,{size:"icon",variant:"outline",children:[a.jsx(E.Z,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Toggle Menu"})]})}),a.jsx(z.ue,{side:"left",className:"p-0 w-64 bg-secondary",children:a.jsx(S,{isExpanded:!0,className:"flex h-full w-full"})})]}),a.jsx(o.default,{href:"/dashboard",className:"flex items-center",children:a.jsx(s.default,{src:"https://placehold.co/153x76.png",alt:"[Tu Logo]","data-ai-hint":"company logo",width:100,height:50,className:"h-auto",priority:!0})})]}),a.jsx("main",{className:"flex flex-1 flex-col gap-4 p-4 sm:gap-8 sm:p-6 lg:p-8",children:e})]}),a.jsx(y,{})]})}},91664:(e,t,r)=>{"use strict";r.d(t,{d:()=>d,z:()=>l});var a=r(10326),i=r(17577),o=r(34214),s=r(79360),n=r(51223);let d=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef(({className:e,variant:t,size:r,asChild:i=!1,...s},l)=>{let c=i?o.g7:"button";return a.jsx(c,{className:(0,n.cn)(d({variant:t,size:r,className:e})),ref:l,...s})});l.displayName="Button"},76066:(e,t,r)=>{"use strict";r.d(t,{aM:()=>c,ue:()=>p,yo:()=>l});var a=r(10326),i=r(17577),o=r(46682),s=r(79360),n=r(94019),d=r(51223);let l=o.fC,c=o.xz;o.x8;let u=o.h_,f=i.forwardRef(({className:e,...t},r)=>a.jsx(o.aV,{className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));f.displayName=o.aV.displayName;let m=(0,s.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=i.forwardRef(({side:e="right",className:t,children:r,...i},s)=>(0,a.jsxs)(u,{children:[a.jsx(f,{}),(0,a.jsxs)(o.VY,{ref:s,className:(0,d.cn)(m({side:e}),t),...i,children:[r,(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=o.VY.displayName,i.forwardRef(({className:e,...t},r)=>a.jsx(o.Dx,{ref:r,className:(0,d.cn)("text-lg font-semibold text-foreground",e),...t})).displayName=o.Dx.displayName,i.forwardRef(({className:e,...t},r)=>a.jsx(o.dk,{ref:r,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})).displayName=o.dk.displayName},82631:(e,t,r)=>{"use strict";r.d(t,{_v:()=>c,aJ:()=>l,pn:()=>n,u:()=>d});var a=r(10326),i=r(17577),o=r(76145),s=r(51223);let n=o.zt,d=o.fC,l=o.xz,c=i.forwardRef(({className:e,sideOffset:t=4,...r},i)=>a.jsx(o.VY,{ref:i,sideOffset:t,className:(0,s.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));c.displayName=o.VY.displayName},63993:(e,t,r)=>{"use strict";r.d(t,{J:()=>m,Q:()=>p});var a=r(85529),i=r(24061),o=r(36283),s=r(74975),n=r(86645),d=r(87815),l=r(60763),c=r(97685),u=r(71821),f=r(52679);let m={name:"Allegro",description:"Sistema de gesti\xf3n integral para un club deportivo y social."},p=[{id:"mi-perfil-vista",title:"Mi Perfil",description:"Visualiza tus datos personales y de membres\xeda.",icon:a.Z,href:"/mi-perfil",roles:["socio"]},{id:"gestionar-familiares",title:"Gestionar Grupo Familiar",description:"Agrega o modifica los datos de tu grupo familiar.",icon:i.Z,href:"/perfil",roles:["socio"]},{id:"carnet-digital",title:"Carnet Digital",description:"Accede a tu carnet de socio digital.",icon:o.Z,href:"/carnet",roles:["socio"]},{id:"invitados-diarios",title:"Cargar Invitados del D\xeda",description:"Registra tus invitados para el acceso diario.",icon:s.Z,href:"/invitados-diarios",roles:["socio"]},{id:"mis-adherentes",title:"Mis Adherentes",description:"Gestiona tus adherentes y sus solicitudes.",icon:n.Z,href:"/mis-adherentes",roles:["socio"]},{id:"gestion-socios",title:"Gesti\xf3n de Socios",description:"Administra la base de datos de socios.",icon:i.Z,href:"/admin/gestion-socios",roles:["admin"]},{id:"panel-medico",title:"Panel M\xe9dico",description:"Gestiona revisiones m\xe9dicas y aptos f\xedsicos.",icon:d.Z,href:"/admin/panel-medico",roles:["medico","admin"]},{id:"control-acceso",title:"Control de Acceso",description:"Verifica el estado de socios para el ingreso.",icon:l.Z,href:"/admin/control-acceso",roles:["portero","admin"]},{id:"gestion-invitados-diarios-admin",title:"Listas de Invitados",description:"Revisa y descarga listas de invitados diarios.",icon:c.Z,href:"/admin/gestion-invitados-diarios",roles:["admin"]},{id:"configuracion-precios",title:"Configurar Precios",description:"Establece los precios de las entradas para invitados.",icon:u.Z,href:"/admin/configuracion-precios",roles:["admin"]},{id:"gestion-novedades",title:"Gesti\xf3n de Novedades",description:"Crea y administra novedades y alertas.",icon:f.Z,href:"/admin/gestion-novedades",roles:["admin"]}]},94001:(e,t,r)=>{"use strict";r.d(t,{H:()=>u,V:()=>c});var a=r(10326),i=r(17577),o=r(35957),s=r(76025),n=r(66759),d=r(42357),l=r(84097);let c=(0,i.createContext)(void 0),u=({children:e})=>{let[t,r]=(0,i.useState)(null),[u,f]=(0,i.useState)(null),[m,p]=(0,i.useState)(null),[h,g]=(0,i.useState)(null),[x,b]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e=()=>{};return s.I8&&(e=(0,o.Aj)(s.I8,async e=>{if(b(!0),e){r(e),console.log("Firebase Auth UID for logged-in user:",e.uid);try{let t=await (0,n.AZ)(e.uid);if(t)f(t.role),p(`${t.nombre} ${t.apellido}`),g(t.numeroSocio);else{let t=await (0,n.Xt)(e.uid);t?(f(t.role),p(t.name)):(console.warn(`User with UID ${e.uid} and email ${e.email} is authenticated but has no profile in 'socios' or 'adminUsers' collections. Assign a role in Firestore to grant access.`),f(null),p(e.displayName||e.email)),g(null)}}catch(t){console.error("AuthContext: Failed to fetch user profile from Firestore.",t),(0,l.Am)({title:"Error de Permisos o Conexi\xf3n",description:"No se pudo cargar tu perfil. Esto puede deberse a un problema de conexi\xf3n o a que las reglas de seguridad de Firestore no permiten el acceso. Contacte al administrador.",variant:"destructive",duration:1e4}),f(null),p(e.displayName||e.email),g(null)}}else r(null),f(null),p(null),g(null);b(!1)})),()=>e()},[]);let v=async()=>{await (0,d.TX)()};return a.jsx(c.Provider,{value:{isLoggedIn:!!t,user:t,userRole:u,userName:m,loggedInUserNumeroSocio:h,isLoading:x,logout:v},children:e})}},84097:(e,t,r)=>{"use strict";r.d(t,{Am:()=>u,pm:()=>f});var a=r(17577);let i=0,o=new Map,s=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},n=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],l={toasts:[]};function c(e){l=n(l,e),d.forEach(e=>{e(l)})}function u({...e}){let t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function f(){let[e,t]=a.useState(l);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},74131:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var a=r(17577),i=r(94001);let o=()=>{let e=(0,a.useContext)(i.V);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},42357:(e,t,r)=>{"use strict";r.d(t,{EL:()=>d,TX:()=>l,pH:()=>n});var a=r(35957),i=r(76025),o=r(84097),s=r(66759);let n=async(e,t)=>{try{if(!i.I8)throw Error("Auth service not initialized.");return(await (0,a.e5)(i.I8,e,t)).user}catch(e){return console.error("Firebase login error:",e),(0,o.Am)({title:"Error de Inicio de Sesi\xf3n",description:"Email o contrase\xf1a incorrectos. Por favor, intente de nuevo.",variant:"destructive"}),null}},d=async e=>{try{if(!i.I8)throw Error("Auth service not initialized.");let t=(await (0,a.Xb)(i.I8,e.email,e.password)).user;await (0,a.ck)(t,{displayName:`${e.nombre} ${e.apellido}`});let r=async(e,r)=>e instanceof FileList&&e.length>0?(0,s.cT)(e[0],`socios/${t.uid}/${r}`):null,[o,n,d,l]=await Promise.all([r(e.fotoPerfil,"fotoPerfil.jpg"),r(e.fotoDniFrente,"fotoDniFrente.jpg"),r(e.fotoDniDorso,"fotoDniDorso.jpg"),r(e.fotoCarnet,"fotoCarnet.jpg")]),c={email:e.email,nombre:e.nombre,apellido:e.apellido,fechaNacimiento:e.fechaNacimiento,dni:e.dni,empresa:e.empresa,telefono:e.telefono,direccion:e.direccion,fotoUrl:o,fotoPerfil:o,fotoDniFrente:n,fotoDniDorso:d,fotoCarnet:l,grupoFamiliar:[]};return await (0,s.l1)(t.uid,c,!0),t}catch(t){console.error("Firebase signup error:",t);let e="Ocurri\xf3 un error inesperado al crear la cuenta.";return"auth/email-already-in-use"===t.code&&(e="El email ingresado ya est\xe1 en uso. Por favor, utilice otro."),(0,o.Am)({title:"Error de Registro",description:e,variant:"destructive"}),null}},l=async()=>{try{if(!i.I8)throw Error("Auth service not initialized.");await (0,a.w7)(i.I8)}catch(e){console.error("Error signing out:",e),(0,o.Am)({title:"Error",description:"No se pudo cerrar la sesi\xf3n.",variant:"destructive"})}}},76025:(e,t,r)=>{"use strict";let a,i,o;r.d(t,{I8:()=>i,db:()=>a,tO:()=>o}),r(42585),r(35957),r(76),r(11552),Object.values({apiKey:"AIzaSyB_OqHXIjYCXkRMGLjxwXVTxDCA2HN-eRk",authDomain:"clubzenith.firebaseapp.com",projectId:"clubzenith",storageBucket:"clubzenith.firebasestorage.app",messagingSenderId:"720998936376",appId:"1:720998936376:web:8a708a63fe10310a795bcd"}).some(e=>!e||"string"==typeof e&&e.includes("your-project-id"))&&console.warn("\n\n*** FIREBASE CONFIG WARNING ***\nYou are using placeholder Firebase credentials. The app will run, but Firebase features like login and data storage will not work.\nPlease update your Firebase configuration in the '.env' file.\nSee the comments in 'src/lib/firebase/config.ts' for instructions.\n\n")},66759:(e,t,r)=>{"use strict";r.d(t,{$M:()=>E,AZ:()=>y,Bb:()=>S,C8:()=>z,Lc:()=>$,RD:()=>T,Tg:()=>A,Xt:()=>j,ad:()=>O,cG:()=>F,cT:()=>b,cv:()=>P,g1:()=>w,hb:()=>v,l1:()=>N,sr:()=>V,uL:()=>D,xW:()=>C,yk:()=>I});var a=r(76),i=r(76025),o=r(11552),s=r(8457);let n=(e,t)=>{console.error(`Firestore error in ${t}:`,e),("permission-denied"===e.code||e.message.includes("offline"))&&console.error("PERMISSION DENIED OR OFFLINE: This is very likely a Firestore rules issue or the database has not been created correctly. \n1. Go to your Firebase Console -> Firestore Database. \n2. Ensure you have created a database in a specific region (e.g., us-central). \n3. Go to the \"Rules\" tab and ensure they allow access for authenticated users. A good starting point for testing is:\n\nrules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}")},d=i.db?(0,a.hJ)(i.db,"socios"):{},l=i.db?(0,a.hJ)(i.db,"revisionesMedicas"):{},c=i.db?(0,a.hJ)(i.db,"solicitudesInvitadosDiarios"):{},u=i.db?(0,a.hJ)(i.db,"novedades"):{};i.db&&(0,a.hJ)(i.db,"adminUsers");let f=(e,t)=>{if("timestamp"===t&&e instanceof Date)return a.EK.fromDate(e);if("date"===t&&e instanceof a.EK)return e.toDate();if(Array.isArray(e))return e.map(e=>f(e,t));if(e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)){let r={};for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=f(e[a],t));return r}return e},m=()=>({toFirestore:e=>f(e,"timestamp"),fromFirestore:(e,t)=>({...f(e.data(t),"date"),id:e.id})}),p=m(),h=m(),g=m(),x=m(),b=async(e,t)=>{if(!i.tO)throw Error("Firebase Storage not initialized.");let r=(0,o.iH)(i.tO,t),a=await (0,o.KV)(r,e);return(0,o.Jt)(a.ref)},v=async()=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let e=(0,a.IO)(d).withConverter(p);return(await (0,a.PL)(e)).docs.map(e=>e.data())}catch(e){throw n(e,"getSocios"),e}},y=async e=>{if(!e)return null;try{if(!i.db)throw Error("Firestore DB not initialized.");let t=(0,a.JU)(i.db,"socios",e).withConverter(p),r=await (0,a.QT)(t);return r.exists()?r.data():null}catch(t){return n(t,`getSocioById for id: ${e}`),null}},w=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let t=(0,s.bG)(e),r=(0,a.IO)(d,(0,a.ar)("numeroSocio","==",e.toUpperCase()),(0,a.b9)(1)).withConverter(p),i=await (0,a.PL)(r);if(!i.empty||(r=(0,a.IO)(d,(0,a.ar)("dni","==",t),(0,a.b9)(1)).withConverter(p),!(i=await (0,a.PL)(r)).empty))return i.docs[0].data();for(let e of(await v())){if((0,s.bG)(`${e.nombre} ${e.apellido}`).includes(t))return e;if(e.grupoFamiliar){for(let r of e.grupoFamiliar)if((0,s.bG)(r.dni)===t||(0,s.bG)(`${r.nombre} ${r.apellido}`).includes(t))return e}if(e.adherentes){for(let r of e.adherentes)if((0,s.bG)(r.dni)===t||(0,s.bG)(`${r.nombre} ${r.apellido}`).includes(t))return e}}return null}catch(t){throw n(t,`getSocioByNumeroSocioOrDNI for term: ${e}`),t}},j=async e=>{if(!e)return null;try{if(!i.db)throw Error("Firestore DB not initialized.");let t=(0,a.JU)(i.db,"adminUsers",e),r=await (0,a.QT)(t);if(r.exists())return r.data();return null}catch(t){return n(t,`getAdminUserById for uid: ${e}`),null}},N=async(e,t,r=!1)=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let i={...t,numeroSocio:`S${Math.floor(1e5+9e5*Math.random())}`,role:"socio",estadoSocio:r?"Pendiente Validacion":"Activo",miembroDesde:new Date,aptoMedico:{valido:!1,razonInvalidez:"Pendiente de presentaci\xf3n"}};if(!e)throw Error("UID is missing for socio creation.");let o=(0,a.JU)(d,e).withConverter(p);return await (0,a.pl)(o,i),{...i,id:e}}catch(t){throw n(t,`addSocio for user UID: ${e}`),t}},D=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let{id:t,...r}=e,o=(0,a.JU)(i.db,"socios",t).withConverter(p);await (0,a.r7)(o,r)}catch(t){throw n(t,`updateSocio for id: ${e.id}`),t}},C=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{return await (0,a.oe)((0,a.JU)(i.db,"socios",e)),!0}catch(t){return n(t,`deleteSocio for id: ${e}`),!1}},S=async()=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let e=(0,a.IO)(l,(0,a.Xo)("fechaRevision","desc"),(0,a.b9)(20)).withConverter(h);return(await (0,a.PL)(e)).docs.map(e=>e.data())}catch(e){throw n(e,"getRevisionesMedicas"),e}},z=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let t=await (0,a.ET)(l.withConverter(h),e);return{...e,id:t.id}}catch(t){throw n(t,`addRevisionMedica for socio: ${e.socioNombre}`),t}},E=async()=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let e=(0,a.IO)(c).withConverter(g);return(await (0,a.PL)(e)).docs.map(e=>e.data())}catch(e){throw n(e,"getAllSolicitudesInvitadosDiarios"),e}},I=async(e,t)=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let r=(0,a.IO)(c,(0,a.ar)("idSocioTitular","==",e),(0,a.ar)("fecha","==",t),(0,a.b9)(1)).withConverter(g),i=await (0,a.PL)(r);return i.empty?null:i.docs[0].data()}catch(r){throw n(r,`getSolicitudInvitadosDiarios for socio: ${e} on date: ${t}`),r}},A=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let t=await I(e.idSocioTitular,e.fecha),r=t?t.id:e.id,o=(0,a.JU)(i.db,"solicitudesInvitadosDiarios",r).withConverter(g);return await (0,a.pl)(o,e,{merge:!0}),{...e,id:r}}catch(t){throw n(t,`addOrUpdateSolicitudInvitadosDiarios for socio: ${e.idSocioTitular}`),t}},F=async e=>A(e),P=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let t=(0,a.JU)(i.db,"config","preciosInvitados");await (0,a.pl)(t,e,{merge:!0})}catch(e){throw n(e,"updatePreciosInvitados"),e}},T=async()=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let e=(0,a.IO)(u,(0,a.Xo)("fechaCreacion","desc")).withConverter(x);return(await (0,a.PL)(e)).docs.map(e=>e.data())}catch(e){throw n(e,"getNovedades"),e}},O=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let t={...e,fechaCreacion:new Date},r=await (0,a.ET)(u.withConverter(x),t);return{...t,id:r.id}}catch(t){throw n(t,`addNovedad with title: ${e.titulo}`),t}},$=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{let{id:t,...r}=e,o=(0,a.JU)(i.db,"novedades",t).withConverter(x);return await (0,a.r7)(o,r),e}catch(t){throw n(t,`updateNovedad for id: ${e.id}`),t}},V=async e=>{if(!i.db)throw Error("Firestore DB not initialized.");try{return await (0,a.oe)((0,a.JU)(i.db,"novedades",e)),!0}catch(t){return n(t,`deleteNovedad for id: ${e}`),!1}}},8457:(e,t,r)=>{"use strict";r.d(t,{Gs:()=>x,Ox:()=>g,b9:()=>p,bG:()=>b,dz:()=>v,p6:()=>m,qm:()=>h});var a=r(94629),i=r(88206),o=r(46724),s=r(39420),n=r(56499),d=r(87396),l=r(57305),c=r(52855),u=r(1366),f=r(29821);let m=(e,t="dd/MM/yyyy")=>{if(!e)return"N/A";try{let r;if(e instanceof Date)r=e;else{if("string"!=typeof e)return console.error("formatDate received an invalid type:",e),"Entrada inv\xe1lida";r=(0,a.D)(e)}if(!(0,i.J)(r))return"Fecha inv\xe1lida";return(0,o.WU)(r,t,{locale:f.es})}catch(t){return console.error("Error formatting date:",e,t),"Error fecha"}},p=(e,t)=>{if(t)try{let e="string"==typeof t?(0,a.D)(t):t;if((0,i.J)(e)&&3>(0,s.o)(new Date,e))return{status:"No Aplica",message:"Menor de 3 a\xf1os (revisi\xf3n no requerida)",colorClass:"text-gray-600 bg-gray-100"}}catch(e){}if(!e)return{status:"Pendiente",message:"Sin datos de apto m\xe9dico",colorClass:"text-yellow-600 bg-yellow-100"};if(!1===e.valido&&e.razonInvalidez)return{status:"Inv\xe1lido",message:`Inv\xe1lido (${e.razonInvalidez})`,colorClass:"text-red-600 bg-red-100"};if(!1===e.valido)return{status:"Inv\xe1lido",message:"No Apto (Raz\xf3n no especificada)",colorClass:"text-red-600 bg-red-100"};if(e.valido&&e.fechaVencimiento){let t;let r=new Date;if(r.setHours(0,0,0,0),e.fechaVencimiento instanceof Date)t=e.fechaVencimiento;else{if("string"!=typeof e.fechaVencimiento)return console.error("Invalid type for aptoMedico.fechaVencimiento:",e.fechaVencimiento),{status:"Error",message:"Formato de fecha de vencimiento interno inv\xe1lido.",colorClass:"text-red-600 bg-red-100"};t=(0,a.D)(e.fechaVencimiento)}if(!(0,i.J)(t))return{status:"Error",message:"Fecha de vencimiento inv\xe1lida tras procesar.",colorClass:"text-red-600 bg-red-100"};let o=new Date(t.valueOf());if(o.setHours(23,59,59,999),!((0,n.A)(o,r)||(0,d.X)(o,r)))return{status:"Vencido",message:`Vencido (Venci\xf3 el ${m(t)})`,colorClass:"text-red-600 bg-red-100"};{let e=(0,l.j)(o,r),a="text-green-600 bg-green-100";return e<=7&&(a="text-orange-600 bg-orange-100"),{status:"V\xe1lido",message:`V\xe1lido hasta: ${m(t)}`,colorClass:a}}}return e.valido&&!e.fechaVencimiento?{status:"V\xe1lido",message:"V\xe1lido (Sin fecha de vencimiento especificada)",colorClass:"text-green-600 bg-green-100"}:{status:"Pendiente",message:"Apto m\xe9dico pendiente o informaci\xf3n incompleta",colorClass:"text-yellow-600 bg-yellow-100"}},h=e=>null,g=()=>Math.random().toString(36).substr(2,9),x=e=>{let t;if(!e)return!1;if("string"==typeof e)t=(0,a.D)(e);else{if(!(e instanceof Date))return!1;t=e}if(!(0,i.J)(t)||t.getTime()===new Date(0).getTime())return!1;let r=new Date;return(0,c.j)(r)===(0,c.j)(t)&&(0,u._)(r)===(0,u._)(t)},b=e=>null==e?"":String(e).normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),v=e=>{if(!(0,i.J)(e))return!1;let t=(0,c.j)(e),r=(0,u._)(e);return 11===t&&25===r||0===t&&1===r}},51223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(41135),i=r(31009);function o(...e){return(0,i.m6)((0,a.W)(e))}},66851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>g});var a=r(19510),i=r(31899),o=r.n(i);r(5023);var s=r(68570);let n=(0,s.createProxy)(String.raw`C:\Users\Gaton\mazallegrofirebase\src\components\Providers.tsx`),{__esModule:d,$$typeof:l}=n;n.default;let c=(0,s.createProxy)(String.raw`C:\Users\Gaton\mazallegrofirebase\src\components\Providers.tsx#Providers`);var u=r(71872);let f=(0,s.createProxy)(String.raw`C:\Users\Gaton\mazallegrofirebase\src\components\layout\MainLayoutWrapper.tsx`),{__esModule:m,$$typeof:p}=f;f.default;let h=(0,s.createProxy)(String.raw`C:\Users\Gaton\mazallegrofirebase\src\components\layout\MainLayoutWrapper.tsx#MainLayoutWrapper`),g={title:`${u.J.name} - Gesti\xf3n de Club Deportivo`,description:u.J.description,icons:null};function x({children:e}){return a.jsx("html",{lang:"es",children:a.jsx("body",{className:`${o().variable} font-sans antialiased`,children:a.jsx(c,{children:a.jsx(h,{children:e})})})})}},71872:(e,t,r)=>{"use strict";r.d(t,{J:()=>m});var a=r(55425),i=r(46707),o=r(83113),s=r(4359),n=r(35429),d=r(38338),l=r(79585),c=r(89768),u=r(74780),f=r(84266);let m={name:"Allegro",description:"Sistema de gesti\xf3n integral para un club deportivo y social."};a.Z,i.Z,o.Z,s.Z,n.Z,i.Z,d.Z,l.Z,c.Z,u.Z,f.Z},5023:()=>{}};