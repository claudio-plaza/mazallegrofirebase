(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7702],{54403:function(e,r,i){Promise.resolve().then(i.bind(i,37496))},87385:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},54174:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},51077:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},22023:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},86162:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]])},30690:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},72377:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},56143:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]])},36141:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},82244:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"10lez9"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6a6 6 0 0 0 6-6v-4",key:"ce9bce"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},36127:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},43267:function(e,r,i){"use strict";i.d(r,{Z:function(){return t}});/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,i(78030).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},87138:function(e,r,i){"use strict";i.d(r,{default:function(){return o.a}});var t=i(231),o=i.n(t)},37496:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return D}});var t=i(57437),o=i(2265),n=i(67048),a=i(48185),s=i(89733),l=i(87138),d=i(1663),c=i(64451),u=i(2183),m=i(26912),f=i(92033),p=i(87992),g=i(79055),h=i(36127),v=i(87385),y=i(30690),x=i(56143),b=i(40932);function z(){let{userName:e,userRole:r,loggedInUserNumeroSocio:i}=(0,n.a)(),{data:z,isLoading:N}=(0,b.a)({queryKey:["socioStatus",i],queryFn:()=>(0,m.g1)(i),enabled:!!i&&"socio"===r,staleTime:3e5}),{data:D=[],isLoading:j}=(0,b.a)({queryKey:["novedades"],queryFn:async()=>{let e=await (0,m.RD)(),r=new Date;return e.filter(e=>e.activa&&(!e.fechaVencimiento||new Date(e.fechaVencimiento)>=r))},enabled:"socio"===r,staleTime:6e5}),E=null==z?void 0:z.estadoSocio,A=(0,o.useMemo)(()=>{if("socio"!==r)return[];let e=d.Q.filter(e=>e.roles.includes(r));return"Activo"!==E&&(e=e.filter(e=>"mis-adherentes"!==e.id)),e},[r,E]),w=e=>{switch(e){case c.UV.ALERTA:return(0,t.jsx)(h.Z,{className:"h-5 w-5 text-destructive"});case c.UV.EVENTO:return(0,t.jsx)(v.Z,{className:"h-5 w-5 text-accent"});case c.UV.INFO:default:return(0,t.jsx)(y.Z,{className:"h-5 w-5 text-secondary"})}},C=e=>e===c.UV.ALERTA?"destructive":"default",k=e=>{switch(e){case c.UV.ALERTA:return"destructive";case c.UV.EVENTO:return"default";case c.UV.INFO:default:return"secondary"}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("header",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold tracking-tight text-foreground",children:["Bienvenido, ",e||"Usuario"]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Tu rol actual es: ",(0,t.jsx)("span",{className:"font-semibold text-primary",children:r}),".","socio"===r&&E&&" (Estado Club: ".concat(E,")")]})]}),A.length>0&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold tracking-tight text-foreground mb-6",children:"Funcionalidades Disponibles"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(e=>(0,t.jsxs)(a.Zb,{className:"flex flex-col overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,t.jsx)(a.Ol,{children:(0,t.jsxs)(a.ll,{className:"flex items-center text-xl",children:[e.icon&&(0,t.jsx)(e.icon,{className:"mr-3 h-6 w-6 text-primary"}),e.title]})}),(0,t.jsx)(a.aY,{className:"flex-grow",children:(0,t.jsx)(a.SZ,{children:e.description})}),(0,t.jsx)("div",{className:"p-6 pt-0",children:(0,t.jsx)(l.default,{href:e.href,passHref:!0,children:(0,t.jsxs)(s.z,{className:"w-full",children:["Ir a ",e.title]})})})]},e.id))})]}),(0,t.jsxs)(a.Zb,{className:"mt-8 bg-muted/50 shadow-lg",children:[(0,t.jsx)(a.Ol,{children:(0,t.jsxs)(a.ll,{className:"flex items-center text-xl",children:[(0,t.jsx)(x.Z,{className:"mr-3 h-6 w-6 text-primary"}),"Novedades del Club"]})}),(0,t.jsx)(a.aY,{children:j?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(u.O,{className:"h-20 w-full"}),(0,t.jsx)(u.O,{className:"h-20 w-full"})]}):D.length>0?(0,t.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:D.map(e=>(0,t.jsxs)(p.bZ,{variant:C(e.tipo),className:"shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[w(e.tipo),(0,t.jsx)(p.Cd,{className:"text-lg font-semibold",children:e.titulo}),(0,t.jsx)(g.C,{variant:k(e.tipo),className:"ml-auto capitalize",children:e.tipo})]}),(0,t.jsxs)(p.X,{className:"pl-8",children:[(0,t.jsx)("p",{className:"mb-2 text-sm text-foreground/80",children:e.contenido}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Publicado: ",(0,f.p6)(e.fechaCreacion,"dd/MM/yyyy HH:mm"),e.fechaVencimiento&&" - V\xe1lido hasta: ".concat((0,f.p6)(e.fechaVencimiento,"dd/MM/yyyy HH:mm"))]})]})]},e.id))}):(0,t.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No hay novedades importantes por el momento."})})]})]})}let N=()=>(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:(0,t.jsxs)(a.Zb,{className:"w-full max-w-sm p-6",children:[(0,t.jsx)(a.Ol,{children:(0,t.jsx)(a.ll,{children:"Cargando Sesi\xf3n..."})}),(0,t.jsxs)(a.aY,{children:[(0,t.jsx)("p",{children:"Verificando tu identidad y permisos. Un momento..."}),(0,t.jsx)(u.O,{className:"h-4 w-full mt-4"})]})]})});function D(){let{userRole:e,isLoading:r}=(0,n.a)();return((0,o.useEffect)(()=>{!r&&e&&("admin"===e?window.location.replace("/admin/gestion-socios"):"medico"===e?window.location.replace("/admin/panel-medico"):"portero"===e&&window.location.replace("/admin/control-acceso"))},[e,r]),r||e&&"socio"!==e)?(0,t.jsx)(N,{}):"socio"===e?(0,t.jsx)(z,{}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:(0,t.jsxs)(a.Zb,{className:"w-full max-w-lg p-6",children:[(0,t.jsx)(a.Ol,{children:(0,t.jsx)(a.ll,{children:"Error de Permisos"})}),(0,t.jsx)(a.aY,{children:(0,t.jsx)("p",{children:"Has iniciado sesi\xf3n, pero tu cuenta no tiene un rol asignado. Por favor, contacta a la administraci\xf3n del club."})})]})})}},87992:function(e,r,i){"use strict";i.d(r,{Cd:function(){return d},X:function(){return c},bZ:function(){return l}});var t=i(57437),o=i(2265),n=i(13027),a=i(49354);let s=(0,n.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=o.forwardRef((e,r)=>{let{className:i,variant:o,...n}=e;return(0,t.jsx)("div",{ref:r,role:"alert",className:(0,a.cn)(s({variant:o}),i),...n})});l.displayName="Alert";let d=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("h5",{ref:r,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",i),...o})});d.displayName="AlertTitle";let c=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",i),...o})});c.displayName="AlertDescription"},79055:function(e,r,i){"use strict";i.d(r,{C:function(){return s}});var t=i(57437);i(2265);var o=i(13027),n=i(49354);let a=(0,o.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:r,variant:i,...o}=e;return(0,t.jsx)("div",{className:(0,n.cn)(a({variant:i}),r),...o})}},48185:function(e,r,i){"use strict";i.d(r,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return a},aY:function(){return c},eW:function(){return u},ll:function(){return l}});var t=i(57437),o=i(2265),n=i(49354);let a=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",i),...o})});a.displayName="Card";let s=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",i),...o})});s.displayName="CardHeader";let l=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",i),...o})});l.displayName="CardTitle";let d=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",i),...o})});d.displayName="CardDescription";let c=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",i),...o})});c.displayName="CardContent";let u=o.forwardRef((e,r)=>{let{className:i,...o}=e;return(0,t.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",i),...o})});u.displayName="CardFooter"},2183:function(e,r,i){"use strict";i.d(r,{O:function(){return n}});var t=i(57437),o=i(49354);function n(e){let{className:r,...i}=e;return(0,t.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",r),...i})}},1663:function(e,r,i){"use strict";i.d(r,{J:function(){return f},Q:function(){return p}});var t=i(54174),o=i(11240),n=i(22023),a=i(43267),s=i(86162),l=i(82244),d=i(36141),c=i(72377),u=i(51077),m=i(56143);let f={name:"Allegro",description:"Sistema de gesti\xf3n integral para un club deportivo y social."},p=[{id:"mi-perfil-vista",title:"Mi Perfil",description:"Visualiza tus datos personales y de membres\xeda.",icon:t.Z,href:"/mi-perfil",roles:["socio"]},{id:"gestionar-familiares",title:"Gestionar Grupo Familiar",description:"Agrega o modifica los datos de tu grupo familiar.",icon:o.Z,href:"/perfil",roles:["socio"]},{id:"carnet-digital",title:"Carnet Digital",description:"Accede a tu carnet de socio digital.",icon:n.Z,href:"/carnet",roles:["socio"]},{id:"invitados-diarios",title:"Cargar Invitados del D\xeda",description:"Registra tus invitados para el acceso diario.",icon:a.Z,href:"/invitados-diarios",roles:["socio"]},{id:"mis-adherentes",title:"Mis Adherentes",description:"Gestiona tus adherentes y sus solicitudes.",icon:s.Z,href:"/mis-adherentes",roles:["socio"]},{id:"gestion-socios",title:"Gesti\xf3n de Socios",description:"Administra la base de datos de socios.",icon:o.Z,href:"/admin/gestion-socios",roles:["admin"]},{id:"panel-medico",title:"Panel M\xe9dico",description:"Gestiona revisiones m\xe9dicas y aptos f\xedsicos.",icon:l.Z,href:"/admin/panel-medico",roles:["medico","admin"]},{id:"control-acceso",title:"Control de Acceso",description:"Verifica el estado de socios para el ingreso.",icon:d.Z,href:"/admin/control-acceso",roles:["portero","admin"]},{id:"gestion-invitados-diarios-admin",title:"Listas de Invitados",description:"Revisa y descarga listas de invitados diarios.",icon:c.Z,href:"/admin/gestion-invitados-diarios",roles:["admin"]},{id:"configuracion-precios",title:"Configurar Precios",description:"Establece los precios de las entradas para invitados.",icon:u.Z,href:"/admin/configuracion-precios",roles:["admin"]},{id:"gestion-novedades",title:"Gesti\xf3n de Novedades",description:"Crea y administra novedades y alertas.",icon:m.Z,href:"/admin/gestion-novedades",roles:["admin"]}]},39630:function(e,r,i){"use strict";i.d(r,{H:function(){return u},V:function(){return c}});var t=i(57437),o=i(2265),n=i(75735),a=i(25419),s=i(26912),l=i(94282),d=i(86763);let c=(0,o.createContext)(void 0),u=e=>{let{children:r}=e,[i,u]=(0,o.useState)(null),[m,f]=(0,o.useState)(null),[p,g]=(0,o.useState)(null),[h,v]=(0,o.useState)(null),[y,x]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=()=>{};return a.I8&&(e=(0,n.Aj)(a.I8,async e=>{if(x(!0),e){u(e),console.log("Firebase Auth UID for logged-in user:",e.uid);try{let r=await (0,s.AZ)(e.uid);if(r)f(r.role),g("".concat(r.nombre," ").concat(r.apellido)),v(r.numeroSocio);else{let r=await (0,s.Xt)(e.uid);r?(f(r.role),g(r.name)):(console.warn("User with UID ".concat(e.uid," and email ").concat(e.email," is authenticated but has no profile in 'socios' or 'adminUsers' collections. Assign a role in Firestore to grant access.")),f(null),g(e.displayName||e.email)),v(null)}}catch(r){console.error("AuthContext: Failed to fetch user profile from Firestore.",r),(0,d.Am)({title:"Error de Permisos o Conexi\xf3n",description:"No se pudo cargar tu perfil. Esto puede deberse a un problema de conexi\xf3n o a que las reglas de seguridad de Firestore no permiten el acceso. Contacte al administrador.",variant:"destructive",duration:1e4}),f(null),g(e.displayName||e.email),v(null)}}else u(null),f(null),g(null),v(null);x(!1)})),()=>e()},[]);let b=async()=>{await (0,l.TX)()};return(0,t.jsx)(c.Provider,{value:{isLoggedIn:!!i,user:i,userRole:m,userName:p,loggedInUserNumeroSocio:h,isLoading:y,logout:b},children:r})}},67048:function(e,r,i){"use strict";i.d(r,{a:function(){return n}});var t=i(2265),o=i(39630);let n=()=>{let e=(0,t.useContext)(o.V);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},94282:function(e,r,i){"use strict";i.d(r,{EL:function(){return l},TX:function(){return d},pH:function(){return s}});var t=i(75735),o=i(25419),n=i(86763),a=i(26912);let s=async(e,r)=>{try{if(!o.I8)throw Error("Auth service not initialized.");return(await (0,t.e5)(o.I8,e,r)).user}catch(e){return console.error("Firebase login error:",e),(0,n.Am)({title:"Error de Inicio de Sesi\xf3n",description:"Email o contrase\xf1a incorrectos. Por favor, intente de nuevo.",variant:"destructive"}),null}},l=async e=>{try{if(!o.I8)throw Error("Auth service not initialized.");let r=(await (0,t.Xb)(o.I8,e.email,e.password)).user;await (0,t.ck)(r,{displayName:"".concat(e.nombre," ").concat(e.apellido)});let i=async(e,i)=>e instanceof FileList&&e.length>0?(0,a.cT)(e[0],"socios/".concat(r.uid,"/").concat(i)):null,[n,s,l,d]=await Promise.all([i(e.fotoPerfil,"fotoPerfil.jpg"),i(e.fotoDniFrente,"fotoDniFrente.jpg"),i(e.fotoDniDorso,"fotoDniDorso.jpg"),i(e.fotoCarnet,"fotoCarnet.jpg")]),c={email:e.email,nombre:e.nombre,apellido:e.apellido,fechaNacimiento:e.fechaNacimiento,dni:e.dni,empresa:e.empresa,telefono:e.telefono,direccion:e.direccion,fotoUrl:n,fotoPerfil:n,fotoDniFrente:s,fotoDniDorso:l,fotoCarnet:d,grupoFamiliar:[]};return await (0,a.l1)(r.uid,c,!0),r}catch(r){console.error("Firebase signup error:",r);let e="Ocurri\xf3 un error inesperado al crear la cuenta.";return"auth/email-already-in-use"===r.code&&(e="El email ingresado ya est\xe1 en uso. Por favor, utilice otro."),(0,n.Am)({title:"Error de Registro",description:e,variant:"destructive"}),null}},d=async()=>{try{if(!o.I8)throw Error("Auth service not initialized.");await (0,t.w7)(o.I8)}catch(e){console.error("Error signing out:",e),(0,n.Am)({title:"Error",description:"No se pudo cerrar la sesi\xf3n.",variant:"destructive"})}}},64451:function(e,r,i){"use strict";i.d(r,{$g:function(){return u},D1:function(){return g},Fl:function(){return A},GD:function(){return q},NN:function(){return U},S:function(){return L},UV:function(){return y},VV:function(){return $},ZU:function(){return w},a6:function(){return v},fk:function(){return j},ie:function(){return V},ms:function(){return R},pO:function(){return G},rX:function(){return h},yP:function(){return E},z5:function(){return H},z_:function(){return p}});var t,o,n,a,s,l,d,c,u,m,f,p,g,h,v,y,x=i(59772),b=i(80624),z=i(54184),N=i(45132);let D=x.z.preprocess(e=>{if("string"==typeof e){let r=(0,b.D)(e);if((0,z.J)(r))return r}return e instanceof Date&&(0,z.J)(e),e},x.z.date({invalid_type_error:"Fecha inv\xe1lida."})),j=12,E=2;(t=u||(u={})).CONYUGE="Conyuge",t.HIJO_A="Hijo/a",t.PADRE_MADRE="Padre/Madre",(o=m||(m={})).PENDIENTE="Pendiente",o.APROBADO="Aprobado",o.RECHAZADO="Rechazado",(n=f||(f={})).BORRADOR="Borrador",n.ENVIADA="Enviada",n.EN_REVISION="En Revisi\xf3n",n.APROBADA="Aprobada",n.RECHAZADA="Rechazada",(a=p||(p={})).NINGUNO="Ninguno",a.PENDIENTE="Pendiente",a.APROBADO="Aprobado",a.RECHAZADO="Rechazado",(s=g||(g={})).ACTIVO="Activo",s.INACTIVO="Inactivo",(l=h||(h={})).PENDIENTE="Pendiente",l.APROBADO="Aprobado",l.RECHAZADO="Rechazada",l.PENDIENTE_ELIMINACION="Pendiente Eliminaci\xf3n",(d=v||(v={})).BORRADOR="Borrador",d.ENVIADA="Enviada",d.PROCESADA="Procesada",d.CANCELADA_SOCIO="Cancelada por Socio",d.CANCELADA_ADMIN="Cancelada por Admin",d.VENCIDA="Vencida",(c=y||(y={})).INFO="info",c.ALERTA="alerta",c.EVENTO="evento";let A={typeError:"Debe seleccionar un archivo de imagen o PDF.",sizeError:"El archivo DNI no debe exceder ".concat(5,"MB."),mimeTypeError:"Tipo de archivo inv\xe1lido. Solo se permiten PNG, JPG, o PDF para DNI.",mimeTypes:["image/png","image/jpeg","application/pdf"]},w={typeError:"Debe seleccionar un archivo de imagen.",sizeError:"La foto de perfil no debe exceder ".concat(5,"MB."),mimeTypeError:"Tipo de archivo inv\xe1lido. Solo se permiten PNG o JPG para foto de perfil.",mimeTypes:["image/png","image/jpeg"]},C=e=>x.z.any().refine(e=>!e||"string"==typeof e||!("undefined"!=typeof FileList&&e instanceof FileList)||!(e.length>0)||e[0].size<=5242880,{message:e.sizeError}).refine(r=>!r||"string"==typeof r||!("undefined"!=typeof FileList&&r instanceof FileList)||!(r.length>0)||e.mimeTypes.includes(r[0].type),{message:e.mimeTypeError}),k=(e,r)=>C(e).refine(e=>null!=e&&!!("string"==typeof e&&e.length>0||"undefined"!=typeof FileList&&e instanceof FileList&&e.length>0),{message:r}),I=e=>C(e).nullable().optional(),q=x.z.object({apellido:x.z.string().min(2,"Apellido es requerido."),nombre:x.z.string().min(2,"Nombre es requerido."),fechaNacimiento:D.refine(e=>e<=(0,N.e)(new Date,18),{message:"Debe ser mayor de 18 a\xf1os."}),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos num\xe9ricos."),empresa:x.z.string().min(1,"Empresa / Sindicato es requerido."),telefono:x.z.string().min(10,"Tel\xe9fono debe tener al menos 10 caracteres num\xe9ricos.").regex(/^\d+$/,"Tel\xe9fono solo debe contener n\xfameros."),direccion:x.z.string().min(5,"Direcci\xf3n es requerida."),email:x.z.string().email("Email inv\xe1lido."),password:x.z.string().min(6,"Contrase\xf1a debe tener al menos 6 caracteres."),confirmPassword:x.z.string(),fotoDniFrente:k(A,"Se requiere foto del DNI (frente)."),fotoDniDorso:k(A,"Se requiere foto del DNI (dorso)."),fotoPerfil:k(w,"Se requiere foto de perfil."),fotoCarnet:I(w),aceptaTerminos:x.z.boolean().refine(e=>!0===e,{message:"Debe aceptar el reglamento interno para registrarse."})}).refine(e=>e.password===e.confirmPassword,{message:"Las contrase\xf1as no coinciden.",path:["confirmPassword"]}),M=x.z.object({apellido:x.z.string().min(2,"Apellido es requerido."),nombre:x.z.string().min(2,"Nombre es requerido."),fechaNacimiento:D.refine(e=>e<=(0,N.e)(new Date,18),{message:"Debe ser mayor de 18 a\xf1os."}),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos num\xe9ricos."),empresa:x.z.string().min(1,"Empresa / Sindicato es requerido."),telefono:x.z.string().min(10,"Tel\xe9fono debe tener al menos 10 caracteres num\xe9ricos.").regex(/^\d+$/,"Tel\xe9fono solo debe contener n\xfameros."),direccion:x.z.string().min(5,"Direcci\xf3n es requerida."),email:x.z.string().email("Email inv\xe1lido."),fotoDniFrente:k(A,"Se requiere foto del DNI (frente)."),fotoDniDorso:k(A,"Se requiere foto del DNI (dorso)."),fotoPerfil:k(w,"Se requiere foto de perfil."),fotoCarnet:I(w)}),Z=x.z.object({id:x.z.string().optional(),apellido:x.z.string().min(2,"Apellido es requerido."),nombre:x.z.string().min(2,"Nombre es requerido."),fechaNacimiento:D.refine(e=>!!e,"La fecha de nacimiento es requerida."),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos num\xe9ricos."),fotoDniFrente:k(A,"Se requiere foto del DNI (frente)."),fotoDniDorso:k(A,"Se requiere foto del DNI (dorso)."),fotoPerfil:k(w,"Se requiere foto de perfil."),fotoCarnet:I(w),direccion:x.z.string().min(5,"Direcci\xf3n es requerida.").optional().or(x.z.literal("")),telefono:x.z.string().min(10,"Tel\xe9fono debe tener al menos 10 caracteres num\xe9ricos.").regex(/^\d+$/,"Tel\xe9fono solo debe contener n\xfameros.").optional().or(x.z.literal("")),email:x.z.string().email("Email inv\xe1lido.").optional().or(x.z.literal("")),relacion:x.z.enum(Object.values(u)),aptoMedico:x.z.custom().optional(),estadoValidacion:x.z.nativeEnum(m).optional()}),P=Z.extend({relacion:x.z.literal("Conyuge")}),S=Z.extend({relacion:x.z.literal("Hijo/a")}),T=Z.extend({relacion:x.z.literal("Padre/Madre")}),O=x.z.object({conyuge:P.optional().nullable(),hijos:x.z.array(S).max(j,"No puede agregar m\xe1s de ".concat(j," hijos.")).optional(),padres:x.z.array(T).max(E,"No puede agregar m\xe1s de ".concat(E," padres.")).optional()}),R=x.z.object({tipoGrupoFamiliar:x.z.enum(["conyugeEHijos","padresMadres"],{required_error:"Debe seleccionar un tipo de grupo familiar."}),familiares:O});M.merge(x.z.object({familiares:O}));let F=x.z.object({id:x.z.string().optional(),nombre:x.z.string().min(1,"Nombre es requerido."),apellido:x.z.string().min(1,"Apellido es requerido."),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos."),fechaNacimiento:D.refine(e=>!!e,"La fecha de nacimiento es requerida."),ingresado:x.z.boolean().default(!1),metodoPago:x.z.enum(["Efectivo","Transferencia","Caja"]).nullable().optional(),aptoMedico:x.z.custom().optional().nullable(),esDeCumpleanos:x.z.boolean().optional()}),V=x.z.object({id:x.z.string().default(()=>"invd-".concat(Date.now().toString(36))),idSocioTitular:x.z.string({required_error:"ID del socio titular es requerido."}),nombreSocioTitular:x.z.string({required_error:"Nombre del socio titular es requerido."}),fecha:x.z.string({required_error:"La fecha es obligatoria (ISO date string)."}).refine(e=>(0,z.J)((0,b.D)(e)),{message:"Fecha inv\xe1lida."}),listaInvitadosDiarios:x.z.array(F).min(1,"Debe agregar al menos un invitado."),estado:x.z.nativeEnum(v).default("Borrador"),fechaCreacion:x.z.date().default(()=>new Date),fechaUltimaModificacion:x.z.date().default(()=>new Date),titularIngresadoEvento:x.z.boolean().default(!1),ingresosMiembros:x.z.array(x.z.string()).optional()}),L=x.z.object({nombre:x.z.string().min(2,"Nombre es requerido."),apellido:x.z.string().min(2,"Apellido es requerido."),fechaNacimiento:D.refine(e=>!!e,"La fecha de nacimiento es requerida."),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos num\xe9ricos."),empresa:x.z.string().min(1,"Empresa / Sindicato es requerido."),telefono:x.z.string().min(10,"Tel\xe9fono debe tener al menos 10 caracteres num\xe9ricos.").regex(/^\d+$/,"Tel\xe9fono solo debe contener n\xfameros.").optional().or(x.z.literal("")),direccion:x.z.string().min(5,"Direcci\xf3n es requerida.").optional().or(x.z.literal("")),email:x.z.string().email("Email inv\xe1lido.").optional().or(x.z.literal("")),fotoDniFrente:k(A,"Se requiere foto del DNI (frente)."),fotoDniDorso:k(A,"Se requiere foto del DNI (dorso)."),fotoPerfil:k(w,"Se requiere foto de perfil."),fotoCarnet:I(w)});L.extend({id:x.z.string().optional(),estadoAdherente:x.z.nativeEnum(g),estadoSolicitud:x.z.nativeEnum(h),motivoRechazo:x.z.string().optional().nullable(),aptoMedico:x.z.custom()});let H=x.z.object({precioInvitadoDiario:x.z.number().min(0,"El precio debe ser cero o mayor.").default(0),precioInvitadoCumpleanos:x.z.number().min(0,"El precio debe ser cero o mayor.").default(0)}),U=x.z.object({id:x.z.string().default(()=>"nov-".concat(Date.now().toString(36))),titulo:x.z.string().min(5,"El t\xedtulo debe tener al menos 5 caracteres."),contenido:x.z.string().min(10,"El contenido debe tener al menos 10 caracteres."),fechaCreacion:x.z.date().default(()=>new Date),fechaVencimiento:D.nullable().optional(),activa:x.z.boolean().default(!0),tipo:x.z.nativeEnum(y).default("info")}),_=x.z.object({id:x.z.string().optional(),nombre:x.z.string().min(2,"Nombre es requerido."),apellido:x.z.string().min(2,"Apellido es requerido."),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos."),fechaNacimiento:D,relacion:x.z.nativeEnum(u,{required_error:"Relaci\xf3n es requerida."}),telefono:x.z.string().min(10,"Tel\xe9fono debe tener al menos 10 caracteres num\xe9ricos.").regex(/^\d+$/,"Tel\xe9fono solo debe contener n\xfameros.").optional().or(x.z.literal("")),email:x.z.string().email("Email inv\xe1lido.").optional().or(x.z.literal("")),direccion:x.z.string().min(5,"Direcci\xf3n es requerida.").optional().or(x.z.literal("")),fotoPerfil:I(w).nullable(),fotoDniFrente:I(A).nullable(),fotoDniDorso:I(A).nullable(),fotoCarnet:I(w).nullable(),aptoMedico:x.z.custom().optional()}),G=x.z.object({apellido:x.z.string().min(2,"Apellido es requerido."),nombre:x.z.string().min(2,"Nombre es requerido."),fechaNacimiento:D.optional().refine(e=>!e||e<=(0,N.e)(new Date,18),{message:"El titular debe ser mayor de 18 a\xf1os."}),dni:x.z.string().regex(/^\d{7,8}$/,"DNI debe tener 7 u 8 d\xedgitos num\xe9ricos."),empresa:x.z.string().min(1,"Empresa / Sindicato es requerido."),telefono:x.z.string().min(10,"Tel\xe9fono debe tener al menos 10 caracteres.").regex(/^\d+$/,"Tel\xe9fono solo debe contener n\xfameros."),direccion:x.z.string().min(5,"Direcci\xf3n es requerida."),email:x.z.string().email("Email inv\xe1lido."),estadoSocio:x.z.enum(["Activo","Inactivo","Pendiente Validacion"],{required_error:"El estado del socio es requerido."}),tipoGrupoFamiliar:x.z.enum(["conyugeEHijos","padresMadres"],{errorMap:(e,r)=>({message:"Debe seleccionar un tipo de grupo si va a agregar familiares."})}).optional(),grupoFamiliar:x.z.array(_).optional(),fotoUrl:x.z.string().url("URL de foto inv\xe1lida.").optional().nullable(),fotoPerfil:I(w).nullable(),fotoDniFrente:I(A),fotoDniDorso:I(A),fotoCarnet:I(w)}),$=G.extend({fechaNacimiento:D.refine(e=>e<=(0,N.e)(new Date,18),{message:"El titular debe ser mayor de 18 a\xf1os."})})}},function(e){e.O(0,[4358,139,4868,317,9772,8384,231,932,6068,2971,7023,1744],function(){return e(e.s=54403)}),_N_E=e.O()}]);